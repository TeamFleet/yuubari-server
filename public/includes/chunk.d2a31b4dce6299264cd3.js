(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{1010:function(t,e,n){(function(r){var i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(r){"function"==typeof bootstrap?bootstrap("nedb",r):"object"==a(e)?t.exports=r():void 0===(o="function"==typeof(i=r)?i.call(e,n,e,t):i)||(t.exports=o)}((function(){return function(t,e,n){function r(n,o){if(!e[n]){if(!t[n]){if(i)return i(n,!0);throw new Error("Cannot find module '"+n+"'")}var a=e[n]={exports:{}};t[n][0].call(a.exports,(function(e){var i=t[n][1][e];return r(i||e)}),a,a.exports)}return e[n].exports}for(var i=!1,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){var r=t("__browserify_process");r.EventEmitter||(r.EventEmitter=function(){});var i=n.EventEmitter=r.EventEmitter,o="function"==typeof Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};i.prototype.setMaxListeners=function(t){this._events||(this._events={}),this._events.maxListeners=t},i.prototype.emit=function(t){if("error"===t&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var e=this._events[t];if(!e)return!1;if("function"==typeof e){switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:var n=Array.prototype.slice.call(arguments,1);e.apply(this,n)}return!0}if(o(e)){n=Array.prototype.slice.call(arguments,1);for(var r=e.slice(),i=0,a=r.length;a>i;i++)r[i].apply(this,n);return!0}return!1},i.prototype.addListener=function(t,e){if("function"!=typeof e)throw new Error("addListener only takes instances of Function");if(this._events||(this._events={}),this.emit("newListener",t,e),this._events[t])if(o(this._events[t])){var n;if(!this._events[t].warned)(n=void 0!==this._events.maxListeners?this._events.maxListeners:10)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),console.trace());this._events[t].push(e)}else this._events[t]=[this._events[t],e];else this._events[t]=e;return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){var n=this;return n.on(t,(function r(){n.removeListener(t,r),e.apply(this,arguments)})),this},i.prototype.removeListener=function(t,e){if("function"!=typeof e)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[t])return this;var n=this._events[t];if(o(n)){var r=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}(n,e);if(0>r)return this;n.splice(r,1),0==n.length&&delete this._events[t]}else this._events[t]===e&&delete this._events[t];return this},i.prototype.removeAllListeners=function(t){return 0===arguments.length?(this._events={},this):(t&&this._events&&this._events[t]&&(this._events[t]=null),this)},i.prototype.listeners=function(t){return this._events||(this._events={}),this._events[t]||(this._events[t]=[]),o(this._events[t])||(this._events[t]=[this._events[t]]),this._events[t]},i.listenerCount=function(t,e){return t._events&&t._events[e]?"function"==typeof t._events[e]?1:t._events[e].length:0}},{__browserify_process:4}],2:[function(t,e,n){function r(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}function i(t,e){for(var n=0,r=t.length;r>=0;r--){var i=t[r];"."==i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var o=t("__browserify_process"),a=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){for(var t="",e=!1,n=arguments.length;n>=-1&&!e;n--){var a=n>=0?arguments[n]:o.cwd();"string"==typeof a&&a&&(t=a+"/"+t,e="/"===a.charAt(0))}return(e?"/":"")+(t=i(r(t.split("/"),(function(t){return!!t})),!e).join("/"))||"."},n.normalize=function(t){var e="/"===t.charAt(0),n="/"===t.slice(-1);return(t=i(r(t.split("/"),(function(t){return!!t})),!e).join("/"))||e||(t="."),t&&n&&(t+="/"),(e?"/":"")+t},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(r(t,(function(t){return t&&"string"==typeof t})).join("/"))},n.dirname=function(t){var e=a.exec(t)[1]||"";return e?1===e.length?e:e.substring(0,e.length-1):"."},n.basename=function(t,e){var n=a.exec(t)[2]||"";return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return a.exec(t)[3]||""},n.relative=function(t,e){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var i=r(t.split("/")),o=r(e.split("/")),a=Math.min(i.length,o.length),u=a,s=0;a>s;s++)if(i[s]!==o[s]){u=s;break}var c=[];for(s=u;s<i.length;s++)c.push("..");return(c=c.concat(o.slice(u))).join("/")},n.sep="/"},{__browserify_process:4}],3:[function(t,e,n){function r(t){return Array.isArray(t)||"object"==a(t)&&"[object Array]"===Object.prototype.toString.call(t)}function i(t){"object"==a(t)&&Object.prototype.toString.call(t)}function o(t){return"object"==a(t)&&"[object Date]"===Object.prototype.toString.call(t)}t("events"),n.isArray=r,n.isDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.print=function(){},n.puts=function(){},n.debug=function(){},n.inspect=function(t,e,c,f){var l=[],h=function(t,e){var n={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r={special:"cyan",number:"blue",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"}[e];return r?"["+n[r][0]+"m"+t+"["+n[r][1]+"m":t};return f||(h=function(t){return t}),function t(c,f){if(c&&"function"==typeof c.inspect&&c!==n&&(!c.constructor||c.constructor.prototype!==c))return c.inspect(f);switch(a(c)){case"undefined":return h("undefined","undefined");case"string":var p="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h(p,"string");case"number":return h(""+c,"number");case"boolean":return h(""+c,"boolean")}if(null===c)return h("null","null");var d,y,v,g=u(c),m=e?s(c):g;if("function"==typeof c&&0===m.length){if(i(c))return h(""+c,"regexp");var b=c.name?": "+c.name:"";return h("[Function"+b+"]","special")}if(o(c)&&0===m.length)return h(c.toUTCString(),"date");if(r(c)?(y="Array",v=["[","]"]):(y="Object",v=["{","}"]),"function"==typeof c){var w=c.name?": "+c.name:"";d=i(c)?" "+c:" [Function"+w+"]"}else d="";if(o(c)&&(d=" "+c.toUTCString()),0===m.length)return v[0]+d+v[1];if(0>f)return i(c)?h(""+c,"regexp"):h("[Object]","special");l.push(c);var _=m.map((function(e){var n,i;if(c.__lookupGetter__&&(c.__lookupGetter__(e)?i=c.__lookupSetter__(e)?h("[Getter/Setter]","special"):h("[Getter]","special"):c.__lookupSetter__(e)&&(i=h("[Setter]","special"))),g.indexOf(e)<0&&(n="["+e+"]"),i||(l.indexOf(c[e])<0?(i=null===f?t(c[e]):t(c[e],f-1)).indexOf("\n")>-1&&(i=r(c)?i.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+i.split("\n").map((function(t){return"   "+t})).join("\n")):i=h("[Circular]","special")),void 0===n){if("Array"===y&&e.match(/^\d+$/))return i;(n=JSON.stringify(""+e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(n=n.substr(1,n.length-2),n=h(n,"name")):(n=n.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),n=h(n,"string"))}return n+": "+i}));return l.pop(),_.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.length+1}),0)>50?v[0]+(""===d?"":d+"\n ")+" "+_.join(",\n  ")+" "+v[1]:v[0]+d+" "+_.join(", ")+" "+v[1]}(t,void 0===c?2:c)},n.log=function(){},n.pump=null;var u=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},s=Object.getOwnPropertyNames||function(t){var e=[];for(var n in t)Object.hasOwnProperty.call(t,n)&&e.push(n);return e},c=Object.create||function(t,e){var n;if(null===t)n={__proto__:null};else{if("object"!=a(t))throw new TypeError("typeof prototype["+a(t)+"] != 'object'");var r=function(){};r.prototype=t,(n=new r).__proto__=t}return void 0!==e&&Object.defineProperties&&Object.defineProperties(n,e),n};n.inherits=function(t,e){t.super_=e,t.prototype=c(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})};var f=/%[sdj%]/g;n.format=function(t){if("string"!=typeof t){for(var e=[],r=0;r<arguments.length;r++)e.push(n.inspect(arguments[r]));return e.join(" ")}r=1;for(var i=arguments,o=i.length,u=String(t).replace(f,(function(t){if("%%"===t)return"%";if(r>=o)return t;switch(t){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":return JSON.stringify(i[r++]);default:return t}})),s=i[r];o>r;s=i[++r])u+=null===s||"object"!=a(s)?" "+s:" "+n.inspect(s);return u}},{events:1}],4:[function(t,e){var n=e.exports={};n.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};if(e){var n=[];return window.addEventListener("message",(function(t){var e=t.source;(e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),n.length>0)&&n.shift()()}),!0),function(t){n.push(t),window.postMessage("process-tick","*")}}return function(t){setTimeout(t,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],5:[function(t,e){function n(t,e,n){this.db=t,this.query=e||{},n&&(this.execFn=n)}var r=t("./model"),i=t("underscore");n.prototype.limit=function(t){return this._limit=t,this},n.prototype.skip=function(t){return this._skip=t,this},n.prototype.sort=function(t){return this._sort=t,this},n.prototype.projection=function(t){return this._projection=t,this},n.prototype.project=function(t){var e,n,r,o=[],a=this;return void 0===this._projection||0===Object.keys(this._projection).length?t:(e=0!==this._projection._id,this._projection=i.omit(this._projection,"_id"),(r=Object.keys(this._projection)).forEach((function(t){if(void 0!==n&&a._projection[t]!==n)throw new Error("Can't both keep and omit fields except for _id");n=a._projection[t]})),t.forEach((function(t){var a=1===n?i.pick(t,r):i.omit(t,r);e?a._id=t._id:delete a._id,o.push(a)})),o)},n.prototype._exec=function(t){var e,n,i,o=this.db.getCandidates(this.query),a=[],u=0,s=0,c=this,f=null;try{for(e=0;e<o.length;e+=1)if(r.match(o[e],this.query))if(this._sort)a.push(o[e]);else if(this._skip&&this._skip>s)s+=1;else if(a.push(o[e]),u+=1,this._limit&&this._limit<=u)break}catch(e){return t(e)}if(this._sort){n=Object.keys(this._sort);var l=[];for(e=0;e<n.length;e++)i=n[e],l.push({key:i,direction:c._sort[i]});a.sort((function(t,e){var n,i,o;for(o=0;o<l.length;o++)if(0!==(i=(n=l[o]).direction*r.compareThings(r.getDotValue(t,n.key),r.getDotValue(e,n.key),c.db.compareStrings)))return i;return 0}));var h=this._limit||a.length,p=this._skip||0;a=a.slice(p,p+h)}try{a=this.project(a)}catch(t){f=t,a=void 0}return this.execFn?this.execFn(f,a,t):t(f,a)},n.prototype.exec=function(){this.db.executor.push({this:this,fn:this._exec,arguments:arguments})},e.exports=n},{"./model":10,underscore:19}],6:[function(t,e){e.exports.uid=function(t){return function(t){function e(t){return o[63&t>>18]+o[63&t>>12]+o[63&t>>6]+o[63&t]}var n,r,i,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=t.length%3,u="";for(i=0,r=t.length-a;r>i;i+=3)u+=e(n=(t[i]<<16)+(t[i+1]<<8)+t[i+2]);switch(a){case 1:n=t[t.length-1],u+=o[n>>2],u+=o[63&n<<4],u+="==";break;case 2:n=(t[t.length-2]<<8)+t[t.length-1],u+=o[n>>10],u+=o[63&n>>4],u+=o[63&n<<2],u+="="}return u}(function(t){for(var e,n=new Array(t),r=0;t>r;r++)0==(3&r)&&(e=4294967296*Math.random()),n[r]=255&e>>>((3&r)<<3);return n}(Math.ceil(Math.max(8,2*t)))).replace(/[+\/]/g,"").slice(0,t)}},{}],7:[function(t,e){function n(t){var e;"string"==typeof t?(e=t,this.inMemoryOnly=!1):(e=(t=t||{}).filename,this.inMemoryOnly=t.inMemoryOnly||!1,this.autoload=t.autoload||!1,this.timestampData=t.timestampData||!1),e&&"string"==typeof e&&0!==e.length?this.filename=e:(this.filename=null,this.inMemoryOnly=!0),this.compareStrings=t.compareStrings,this.persistence=new f({db:this,nodeWebkitAppName:t.nodeWebkitAppName,afterSerialization:t.afterSerialization,beforeDeserialization:t.beforeDeserialization,corruptAlertThreshold:t.corruptAlertThreshold}),this.executor=new a,this.inMemoryOnly&&(this.executor.ready=!0),this.indexes={},this.indexes._id=new u({fieldName:"_id",unique:!0}),this.autoload&&this.loadDatabase(t.onload||function(t){if(t)throw t})}var r=t("./customUtils"),i=t("./model"),o=t("async"),a=t("./executor"),u=t("./indexes"),s=t("util"),c=t("underscore"),f=t("./persistence"),l=t("./cursor");s.inherits(n,t("events").EventEmitter),n.prototype.loadDatabase=function(){this.executor.push({this:this.persistence,fn:this.persistence.loadDatabase,arguments:arguments},!0)},n.prototype.getAllData=function(){return this.indexes._id.getAll()},n.prototype.resetIndexes=function(t){var e=this;Object.keys(this.indexes).forEach((function(n){e.indexes[n].reset(t)}))},n.prototype.ensureIndex=function(t,e){var n,r=e||function(){};if(!(t=t||{}).fieldName)return(n=new Error("Cannot create an index without a fieldName")).missingFieldName=!0,r(n);if(this.indexes[t.fieldName])return r(null);this.indexes[t.fieldName]=new u(t);try{this.indexes[t.fieldName].insert(this.getAllData())}catch(e){return delete this.indexes[t.fieldName],r(e)}this.persistence.persistNewState([{$$indexCreated:t}],(function(t){return r(t||null)}))},n.prototype.removeIndex=function(t,e){var n=e||function(){};delete this.indexes[t],this.persistence.persistNewState([{$$indexRemoved:t}],(function(t){return n(t||null)}))},n.prototype.addToIndexes=function(t){var e,n,r,i=Object.keys(this.indexes);for(e=0;e<i.length;e+=1)try{this.indexes[i[e]].insert(t)}catch(t){n=e,r=t;break}if(r){for(e=0;n>e;e+=1)this.indexes[i[e]].remove(t);throw r}},n.prototype.removeFromIndexes=function(t){var e=this;Object.keys(this.indexes).forEach((function(n){e.indexes[n].remove(t)}))},n.prototype.updateIndexes=function(t,e){var n,r,i,o=Object.keys(this.indexes);for(n=0;n<o.length;n+=1)try{this.indexes[o[n]].update(t,e)}catch(t){r=n,i=t;break}if(i){for(n=0;r>n;n+=1)this.indexes[o[n]].revertUpdate(t,e);throw i}},n.prototype.getCandidates=function(t){var e,n=Object.keys(this.indexes);return e=[],Object.keys(t).forEach((function(n){("string"==typeof t[n]||"number"==typeof t[n]||"boolean"==typeof t[n]||s.isDate(t[n])||null===t[n])&&e.push(n)})),(e=c.intersection(e,n)).length>0?this.indexes[e[0]].getMatching(t[e[0]]):(e=[],Object.keys(t).forEach((function(n){t[n]&&t[n].hasOwnProperty("$in")&&e.push(n)})),(e=c.intersection(e,n)).length>0?this.indexes[e[0]].getMatching(t[e[0]].$in):(e=[],Object.keys(t).forEach((function(n){t[n]&&(t[n].hasOwnProperty("$lt")||t[n].hasOwnProperty("$lte")||t[n].hasOwnProperty("$gt")||t[n].hasOwnProperty("$gte"))&&e.push(n)})),(e=c.intersection(e,n)).length>0?this.indexes[e[0]].getBetweenBounds(t[e[0]]):this.getAllData()))},n.prototype._insert=function(t,e){var n,r=e||function(){};try{n=this.prepareDocumentForInsertion(t),this._insertInCache(n)}catch(t){return r(t)}this.persistence.persistNewState(s.isArray(n)?n:[n],(function(t){return t?r(t):r(null,i.deepCopy(n))}))},n.prototype.createNewId=function(){var t=r.uid(16);return this.indexes._id.getMatching(t).length>0&&(t=this.createNewId()),t},n.prototype.prepareDocumentForInsertion=function(t){var e,n=this;if(s.isArray(t))e=[],t.forEach((function(t){e.push(n.prepareDocumentForInsertion(t))}));else{void 0===(e=i.deepCopy(t))._id&&(e._id=this.createNewId());var r=new Date;this.timestampData&&void 0===e.createdAt&&(e.createdAt=r),this.timestampData&&void 0===e.updatedAt&&(e.updatedAt=r),i.checkObject(e)}return e},n.prototype._insertInCache=function(t){s.isArray(t)?this._insertMultipleDocsInCache(t):this.addToIndexes(t)},n.prototype._insertMultipleDocsInCache=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.addToIndexes(t[e])}catch(t){r=t,n=e;break}if(r){for(e=0;n>e;e+=1)this.removeFromIndexes(t[e]);throw r}},n.prototype.insert=function(){this.executor.push({this:this,fn:this._insert,arguments:arguments})},n.prototype.count=function(t,e){var n=new l(this,t,(function(t,e,n){return t?n(t):n(null,e.length)}));return"function"!=typeof e?n:void n.exec(e)},n.prototype.find=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"==typeof e&&(n=e,e={})}var r=new l(this,t,(function(t,e,n){var r,o=[];if(t)return n(t);for(r=0;r<e.length;r+=1)o.push(i.deepCopy(e[r]));return n(null,o)}));return r.projection(e),"function"!=typeof n?r:void r.exec(n)},n.prototype.findOne=function(t,e,n){switch(arguments.length){case 1:e={};break;case 2:"function"==typeof e&&(n=e,e={})}var r=new l(this,t,(function(t,e,n){return t?n(t):1===e.length?n(null,i.deepCopy(e[0])):n(null,null)}));return r.projection(e).limit(1),"function"!=typeof n?r:void r.exec(n)},n.prototype._update=function(t,e,n,r){var a,u,s,f,h=this,p=0;"function"==typeof n&&(r=n,n={}),a=r||function(){},u=void 0!==n.multi&&n.multi,s=void 0!==n.upsert&&n.upsert,o.waterfall([function(n){if(!s)return n();new l(h,t).limit(1)._exec((function(r,o){if(r)return a(r);if(1===o.length)return n();var u;try{i.checkObject(e),u=e}catch(n){try{u=i.modify(i.deepCopy(t,!0),e)}catch(r){return a(r)}}return h._insert(u,(function(t,e){return t?a(t):a(null,1,e)}))}))},function(){var r,o=h.getCandidates(t),s=[];try{for(f=0;f<o.length;f+=1)i.match(o[f],t)&&(u||0===p)&&(p+=1,r=i.modify(o[f],e),h.timestampData&&(r.updatedAt=new Date),s.push({oldDoc:o[f],newDoc:r}))}catch(t){return a(t)}try{h.updateIndexes(s)}catch(t){return a(t)}var l=c.pluck(s,"newDoc");h.persistence.persistNewState(l,(function(t){if(t)return a(t);if(n.returnUpdatedDocs){var e=[];return l.forEach((function(t){e.push(i.deepCopy(t))})),a(null,p,e)}return a(null,p)}))}])},n.prototype.update=function(){this.executor.push({this:this,fn:this._update,arguments:arguments})},n.prototype._remove=function(t,e,n){var r,o,a=this,u=0,s=[],c=this.getCandidates(t);"function"==typeof e&&(n=e,e={}),r=n||function(){},o=void 0!==e.multi&&e.multi;try{c.forEach((function(e){i.match(e,t)&&(o||0===u)&&(u+=1,s.push({$$deleted:!0,_id:e._id}),a.removeFromIndexes(e))}))}catch(t){return r(t)}a.persistence.persistNewState(s,(function(t){return t?r(t):r(null,u)}))},n.prototype.remove=function(){this.executor.push({this:this,fn:this._remove,arguments:arguments})},e.exports=n},{"./cursor":5,"./customUtils":6,"./executor":8,"./indexes":9,"./model":10,"./persistence":11,async:13,events:1,underscore:19,util:3}],8:[function(t,e){function n(){this.buffer=[],this.ready=!1,this.queue=o.queue((function(t,e){var n,o,a=t.arguments[t.arguments.length-1],u=[];for(o=0;o<t.arguments.length;o+=1)u.push(t.arguments[o]);"function"==typeof a?(n=function(){"function"==typeof r?r(e):i.nextTick(e),a.apply(null,arguments)},u[u.length-1]=n):(n=function(){e()},u.push(n)),t.fn.apply(t.this,u)}),1)}var i=t("__browserify_process"),o=t("async");n.prototype.push=function(t,e){this.ready||e?this.queue.push(t):this.buffer.push(t)},n.prototype.processBuffer=function(){var t;for(this.ready=!0,t=0;t<this.buffer.length;t+=1)this.queue.push(this.buffer[t]);this.buffer=[]},e.exports=n},{__browserify_process:4,async:13}],9:[function(t,e){function n(t,e){return t===e}function r(t){return null===t?"$null":"string"==typeof t?"$string"+t:"boolean"==typeof t?"$boolean"+t:"number"==typeof t?"$number"+t:s.isArray(t)?"$date"+t.getTime():t}function i(t){this.fieldName=t.fieldName,this.unique=t.unique||!1,this.sparse=t.sparse||!1,this.treeOptions={unique:this.unique,compareKeys:a.compareThings,checkValueEquality:n},this.reset()}var o=t("binary-search-tree").AVLTree,a=t("./model"),u=t("underscore"),s=t("util");i.prototype.reset=function(t){this.tree=new o(this.treeOptions),t&&this.insert(t)},i.prototype.insert=function(t){var e,n,i,o,c;if(s.isArray(t))this.insertMultipleDocs(t);else if(void 0!==(e=a.getDotValue(t,this.fieldName))||!this.sparse)if(s.isArray(e)){for(n=u.uniq(e,r),i=0;i<n.length;i+=1)try{this.tree.insert(n[i],t)}catch(t){c=t,o=i;break}if(c){for(i=0;o>i;i+=1)this.tree.delete(n[i],t);throw c}}else this.tree.insert(e,t)},i.prototype.insertMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)try{this.insert(t[e])}catch(t){n=t,r=e;break}if(n){for(e=0;r>e;e+=1)this.remove(t[e]);throw n}},i.prototype.remove=function(t){var e,n=this;return s.isArray(t)?void t.forEach((function(t){n.remove(t)})):void(void 0===(e=a.getDotValue(t,this.fieldName))&&this.sparse||(s.isArray(e)?u.uniq(e,r).forEach((function(e){n.tree.delete(e,t)})):this.tree.delete(e,t)))},i.prototype.update=function(t,e){if(s.isArray(t))this.updateMultipleDocs(t);else{this.remove(t);try{this.insert(e)}catch(e){throw this.insert(t),e}}},i.prototype.updateMultipleDocs=function(t){var e,n,r;for(e=0;e<t.length;e+=1)this.remove(t[e].oldDoc);for(e=0;e<t.length;e+=1)try{this.insert(t[e].newDoc)}catch(t){r=t,n=e;break}if(r){for(e=0;n>e;e+=1)this.remove(t[e].newDoc);for(e=0;e<t.length;e+=1)this.insert(t[e].oldDoc);throw r}},i.prototype.revertUpdate=function(t,e){var n=[];s.isArray(t)?(t.forEach((function(t){n.push({oldDoc:t.newDoc,newDoc:t.oldDoc})})),this.update(n)):this.update(e,t)},i.prototype.getMatching=function(t){var e=this;if(s.isArray(t)){var n={},r=[];return t.forEach((function(t){e.getMatching(t).forEach((function(t){n[t._id]=t}))})),Object.keys(n).forEach((function(t){r.push(n[t])})),r}return e.tree.search(t)},i.prototype.getBetweenBounds=function(t){return this.tree.betweenBounds(t)},i.prototype.getAll=function(){var t=[];return this.tree.executeOnEveryNode((function(e){var n;for(n=0;n<e.data.length;n+=1)t.push(e.data[n])})),t},e.exports=i},{"./model":10,"binary-search-tree":14,underscore:19,util:3}],10:[function(t,e){function n(t,e){if("number"==typeof t&&(t=t.toString()),!("$"!==t[0]||"$$date"===t&&"number"==typeof e||"$$deleted"===t&&!0===e||"$$indexCreated"===t||"$$indexRemoved"===t))throw new Error("Field names cannot begin with the $ character");if(-1!==t.indexOf("."))throw new Error("Field names cannot contain a .")}function r(t){y.isArray(t)&&t.forEach((function(t){r(t)})),"object"==a(t)&&null!==t&&Object.keys(t).forEach((function(e){n(e,t[e]),r(t[e])}))}function i(t,e){var n;return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||y.isDate(t)?t:y.isArray(t)?(n=[],t.forEach((function(t){n.push(i(t,e))})),n):"object"==a(t)?(n={},Object.keys(t).forEach((function(r){(!e||"$"!==r[0]&&-1===r.indexOf("."))&&(n[r]=i(t[r],e))})),n):void 0}function o(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||y.isDate(t)||y.isArray(t)}function u(t,e){return e>t?-1:t>e?1:0}function s(t,e){var n,r;for(n=0;n<Math.min(t.length,e.length);n+=1)if(0!==(r=c(t[n],e[n])))return r;return u(t.length,e.length)}function c(t,e,n){var r,i,o,a,f=n||u;if(void 0===t)return void 0===e?0:-1;if(void 0===e)return void 0===t?0:1;if(null===t)return null===e?0:-1;if(null===e)return null===t?0:1;if("number"==typeof t)return"number"==typeof e?u(t,e):-1;if("number"==typeof e)return"number"==typeof t?u(t,e):1;if("string"==typeof t)return"string"==typeof e?f(t,e):-1;if("string"==typeof e)return"string"==typeof t?f(t,e):1;if("boolean"==typeof t)return"boolean"==typeof e?u(t,e):-1;if("boolean"==typeof e)return"boolean"==typeof t?u(t,e):1;if(y.isDate(t))return y.isDate(e)?u(t.getTime(),e.getTime()):-1;if(y.isDate(e))return y.isDate(t)?u(t.getTime(),e.getTime()):1;if(y.isArray(t))return y.isArray(e)?s(t,e):-1;if(y.isArray(e))return y.isArray(t)?s(t,e):1;for(r=Object.keys(t).sort(),i=Object.keys(e).sort(),a=0;a<Math.min(r.length,i.length);a+=1)if(0!==(o=c(t[r[a]],e[i[a]])))return o;return u(r.length,i.length)}function f(t,e){var n,r,i="string"==typeof e?e.split("."):e;if(t){if(0===i.length)return t;if(1===i.length)return t[i[0]];if(y.isArray(t[i[0]])){if("number"==typeof(n=parseInt(i[1],10))&&!isNaN(n))return f(t[i[0]][n],i.slice(2));for(r=new Array,n=0;n<t[i[0]].length;n+=1)r.push(f(t[i[0]][n],i.slice(1)));return r}return f(t[i[0]],i.slice(1))}}function l(t,e){var n,r,i;if(null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t||null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e)return t===e;if(y.isDate(t)||y.isDate(e))return y.isDate(t)&&y.isDate(e)&&t.getTime()===e.getTime();if((!y.isArray(t)||!y.isArray(e))&&(y.isArray(t)||y.isArray(e))||void 0===t||void 0===e)return!1;try{n=Object.keys(t),r=Object.keys(e)}catch(t){return!1}if(n.length!==r.length)return!1;for(i=0;i<n.length;i+=1){if(-1===r.indexOf(n[i]))return!1;if(!l(t[n[i]],e[n[i]]))return!1}return!0}function h(t,e){return!("string"!=typeof t&&"number"!=typeof t&&!y.isDate(t)&&"string"!=typeof e&&"number"!=typeof e&&!y.isDate(e))&&a(t)==a(e)}function p(t,e){var n,r,i,a;if(o(t)||o(e))return d({needAKey:t},"needAKey",e);for(n=Object.keys(e),a=0;a<n.length;a+=1)if(i=e[r=n[a]],"$"===r[0]){if(!w[r])throw new Error("Unknown logical operator "+r);if(!w[r](t,i))return!1}else if(!d(t,r,i))return!1;return!0}function d(t,e,n,r){var i,o,u,s,c=f(t,e);if(y.isArray(c)&&!r){if(y.isArray(n))return d(t,e,n,!0);if(null!==n&&"object"==a(n)&&!y.isRegExp(n))for(o=Object.keys(n),i=0;i<o.length;i+=1)if(_[o[i]])return d(t,e,n,!0);for(i=0;i<c.length;i+=1)if(d({k:c[i]},"k",n))return!0;return!1}if(null!==n&&"object"==a(n)&&!y.isRegExp(n)&&!y.isArray(n)){if(o=Object.keys(n),u=v.map(o,(function(t){return t[0]})),0!==(s=v.filter(u,(function(t){return"$"===t}))).length&&s.length!==u.length)throw new Error("You cannot mix operators and normal fields");if(s.length>0){for(i=0;i<o.length;i+=1){if(!b[o[i]])throw new Error("Unknown comparison function "+o[i]);if(!b[o[i]](c,n[o[i]]))return!1}return!0}}return y.isRegExp(n)?b.$regex(c,n):!!l(c,n)}var y=t("util"),v=t("underscore"),g={},m={},b={},w={},_={};m.$set=function(t,e,n){t[e]=n},m.$unset=function(t,e){delete t[e]},m.$push=function(t,e,n){if(t.hasOwnProperty(e)||(t[e]=[]),!y.isArray(t[e]))throw new Error("Can't $push an element on non-array values");if(null!==n&&"object"==a(n)&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!y.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach((function(n){t[e].push(n)}))}else t[e].push(n)},m.$addToSet=function(t,e,n){var r=!0;if(t.hasOwnProperty(e)||(t[e]=[]),!y.isArray(t[e]))throw new Error("Can't $addToSet an element on non-array values");if(null!==n&&"object"==a(n)&&n.$each){if(Object.keys(n).length>1)throw new Error("Can't use another field in conjunction with $each");if(!y.isArray(n.$each))throw new Error("$each requires an array value");n.$each.forEach((function(n){m.$addToSet(t,e,n)}))}else t[e].forEach((function(t){0===c(t,n)&&(r=!1)})),r&&t[e].push(n)},m.$pop=function(t,e,n){if(!y.isArray(t[e]))throw new Error("Can't $pop an element from non-array values");if("number"!=typeof n)throw new Error(n+" isn't an integer, can't use it with $pop");0!==n&&(t[e]=n>0?t[e].slice(0,t[e].length-1):t[e].slice(1))},m.$pull=function(t,e,n){var r,i;if(!y.isArray(t[e]))throw new Error("Can't $pull an element from non-array values");for(i=(r=t[e]).length-1;i>=0;i-=1)p(r[i],n)&&r.splice(i,1)},m.$inc=function(t,e,n){if("number"!=typeof n)throw new Error(n+" must be a number");if("number"!=typeof t[e]){if(v.has(t,e))throw new Error("Don't use the $inc modifier on non-number fields");t[e]=n}else t[e]+=n},Object.keys(m).forEach((function(t){g[t]=function(t){return function(e,n,r){var i="string"==typeof n?n.split("."):n;1===i.length?m[t](e,n,r):(e[i[0]]=e[i[0]]||{},g[t](e[i[0]],i.slice(1),r))}}(t)})),b.$lt=function(t,e){return h(t,e)&&e>t},b.$lte=function(t,e){return h(t,e)&&e>=t},b.$gt=function(t,e){return h(t,e)&&t>e},b.$gte=function(t,e){return h(t,e)&&t>=e},b.$ne=function(t,e){return void 0===t||!l(t,e)},b.$in=function(t,e){var n;if(!y.isArray(e))throw new Error("$in operator called with a non-array");for(n=0;n<e.length;n+=1)if(l(t,e[n]))return!0;return!1},b.$nin=function(t,e){if(!y.isArray(e))throw new Error("$nin operator called with a non-array");return!b.$in(t,e)},b.$regex=function(t,e){if(!y.isRegExp(e))throw new Error("$regex operator called with non regular expression");return"string"==typeof t&&e.test(t)},b.$exists=function(t,e){return e=!(!e&&""!==e),void 0===t?!e:e},b.$size=function(t,e){if(!y.isArray(t))return!1;if(0!=e%1)throw new Error("$size operator called without an integer");return t.length==e},_.$size=!0,w.$or=function(t,e){var n;if(!y.isArray(e))throw new Error("$or operator used without an array");for(n=0;n<e.length;n+=1)if(p(t,e[n]))return!0;return!1},w.$and=function(t,e){var n;if(!y.isArray(e))throw new Error("$and operator used without an array");for(n=0;n<e.length;n+=1)if(!p(t,e[n]))return!1;return!0},w.$not=function(t,e){return!p(t,e)},w.$where=function(t,e){var n;if(!v.isFunction(e))throw new Error("$where operator used without a function");if(n=e.call(t),!v.isBoolean(n))throw new Error("$where function must return boolean");return n},e.exports.serialize=function(t){return JSON.stringify(t,(function(t,e){return n(t,e),void 0===e?void 0:null===e?null:"function"==typeof this[t].getTime?{$$date:this[t].getTime()}:e}))},e.exports.deserialize=function(t){return JSON.parse(t,(function(t,e){return"$$date"===t?new Date(e):"string"==typeof e||"number"==typeof e||"boolean"==typeof e||null===e?e:e&&e.$$date?e.$$date:e}))},e.exports.deepCopy=i,e.exports.checkObject=r,e.exports.isPrimitiveType=o,e.exports.modify=function(t,e){var n,o,u=Object.keys(e),s=v.map(u,(function(t){return t[0]})),c=v.filter(s,(function(t){return"$"===t}));if(-1!==u.indexOf("_id")&&e._id!==t._id)throw new Error("You cannot change a document's _id");if(0!==c.length&&c.length!==s.length)throw new Error("You cannot mix modifiers and normal fields");if(0===c.length?(n=i(e))._id=t._id:(o=v.uniq(u),n=i(t),o.forEach((function(t){if(!g[t])throw new Error("Unknown modifier "+t);if("object"!=a(e[t]))throw new Error("Modifier "+t+"'s argument must be an object");Object.keys(e[t]).forEach((function(r){g[t](n,r,e[t][r])}))}))),r(n),t._id!==n._id)throw new Error("You can't change a document's _id");return n},e.exports.getDotValue=f,e.exports.match=p,e.exports.areThingsEqual=l,e.exports.compareThings=c},{underscore:19,util:3}],11:[function(t,e){function n(t){var e,r,i;if(this.db=t.db,this.inMemoryOnly=this.db.inMemoryOnly,this.filename=this.db.filename,this.corruptAlertThreshold=void 0!==t.corruptAlertThreshold?t.corruptAlertThreshold:.1,!this.inMemoryOnly&&this.filename&&"~"===this.filename.charAt(this.filename.length-1))throw new Error("The datafile name can't end with a ~, which is reserved for crash safe backup files");if(t.afterSerialization&&!t.beforeDeserialization)throw new Error("Serialization hook defined but deserialization hook undefined, cautiously refusing to start NeDB to prevent dataloss");if(!t.afterSerialization&&t.beforeDeserialization)throw new Error("Serialization hook undefined but deserialization hook defined, cautiously refusing to start NeDB to prevent dataloss");for(this.afterSerialization=t.afterSerialization||function(t){return t},this.beforeDeserialization=t.beforeDeserialization||function(t){return t},e=1;30>e;e+=1)for(r=0;10>r;r+=1)if(i=s.uid(e),this.beforeDeserialization(this.afterSerialization(i))!==i)throw new Error("beforeDeserialization is not the reverse of afterSerialization, cautiously refusing to start NeDB to prevent dataloss");this.filename&&t.nodeWebkitAppName&&(console.log("=================================================================="),console.log("WARNING: The nodeWebkitAppName option is deprecated"),console.log("To get the path to the directory where Node Webkit stores the data"),console.log("for your app, use the internal nw.gui module like this"),console.log("require('nw.gui').App.dataPath"),console.log("See https://github.com/rogerwang/node-webkit/issues/500"),console.log("=================================================================="),this.filename=n.getNWAppFilename(t.nodeWebkitAppName,this.filename))}var r=t("__browserify_process"),i=t("./storage"),o=t("path"),a=t("./model"),u=t("async"),s=t("./customUtils"),c=t("./indexes");n.ensureDirectoryExists=function(t,e){var n=e||function(){};i.mkdirp(t,(function(t){return n(t)}))},n.getNWAppFilename=function(t,e){var n;switch(r.platform){case"win32":case"win64":if(!(n=r.env.LOCALAPPDATA||r.env.APPDATA))throw new Error("Couldn't find the base application data folder");n=o.join(n,t);break;case"darwin":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=o.join(n,"Library","Application Support",t);break;case"linux":if(!(n=r.env.HOME))throw new Error("Couldn't find the base application data directory");n=o.join(n,".config",t);break;default:throw new Error("Can't use the Node Webkit relative path for platform "+r.platform)}return o.join(n,"nedb-data",e)},n.prototype.persistCachedDatabase=function(t){var e=t||function(){},n="",r=this;return this.inMemoryOnly?e(null):(this.db.getAllData().forEach((function(t){n+=r.afterSerialization(a.serialize(t))+"\n"})),Object.keys(this.db.indexes).forEach((function(t){"_id"!=t&&(n+=r.afterSerialization(a.serialize({$$indexCreated:{fieldName:t,unique:r.db.indexes[t].unique,sparse:r.db.indexes[t].sparse}}))+"\n")})),void i.crashSafeWriteFile(this.filename,n,(function(t){return t?e(t):(r.db.emit("compaction.done"),e(null))})))},n.prototype.compactDatafile=function(){this.db.executor.push({this:this,fn:this.persistCachedDatabase,arguments:[]})},n.prototype.setAutocompactionInterval=function(t){var e=this,n=Math.max(t||0,5e3);this.stopAutocompaction(),this.autocompactionIntervalId=setInterval((function(){e.compactDatafile()}),n)},n.prototype.stopAutocompaction=function(){this.autocompactionIntervalId&&clearInterval(this.autocompactionIntervalId)},n.prototype.persistNewState=function(t,e){var n=this,r="",o=e||function(){};return n.inMemoryOnly?o(null):(t.forEach((function(t){r+=n.afterSerialization(a.serialize(t))+"\n"})),0===r.length?o(null):void i.appendFile(n.filename,r,"utf8",(function(t){return o(t)})))},n.prototype.treatRawData=function(t){var e,n=t.split("\n"),r={},i=[],o={},u=-1;for(e=0;e<n.length;e+=1){var s;try{(s=a.deserialize(this.beforeDeserialization(n[e])))._id?!0===s.$$deleted?delete r[s._id]:r[s._id]=s:s.$$indexCreated&&null!=s.$$indexCreated.fieldName?o[s.$$indexCreated.fieldName]=s.$$indexCreated:"string"==typeof s.$$indexRemoved&&delete o[s.$$indexRemoved]}catch(t){u+=1}}if(n.length>0&&u/n.length>this.corruptAlertThreshold)throw new Error("More than "+Math.floor(100*this.corruptAlertThreshold)+"% of the data file is corrupt, the wrong beforeDeserialization hook may be used. Cautiously refusing to start NeDB to prevent dataloss");return Object.keys(r).forEach((function(t){i.push(r[t])})),{data:i,indexes:o}},n.prototype.loadDatabase=function(t){var e=t||function(){},r=this;return r.db.resetIndexes(),r.inMemoryOnly?e(null):void u.waterfall([function(t){n.ensureDirectoryExists(o.dirname(r.filename),(function(){i.ensureDatafileIntegrity(r.filename,(function(){i.readFile(r.filename,"utf8",(function(e,n){if(e)return t(e);try{var i=r.treatRawData(n)}catch(e){return t(e)}Object.keys(i.indexes).forEach((function(t){r.db.indexes[t]=new c(i.indexes[t])}));try{r.db.resetIndexes(i.data)}catch(e){return r.db.resetIndexes(),t(e)}r.db.persistence.persistCachedDatabase(t)}))}))}))}],(function(t){return t?e(t):(r.db.executor.processBuffer(),e(null))}))},e.exports=n},{"./customUtils":6,"./indexes":9,"./model":10,"./storage":12,__browserify_process:4,async:13,path:2}],12:[function(t,e){function n(t,e,n,i){"function"==typeof n&&(i=n),r.setItem(t,e,(function(){return i()}))}var r=t("localforage");r.config({name:"NeDB",storeName:"nedbdata"}),e.exports.exists=function(t,e){r.getItem(t,(function(t,n){return e(null!==n)}))},e.exports.rename=function(t,e,n){r.getItem(t,(function(i,o){null===o?r.removeItem(e,(function(){return n()})):r.setItem(e,o,(function(){r.removeItem(t,(function(){return n()}))}))}))},e.exports.writeFile=n,e.exports.crashSafeWriteFile=n,e.exports.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n),r.getItem(t,(function(n,o){o=o||"",o+=e,r.setItem(t,o,(function(){return i()}))}))},e.exports.readFile=function(t,e,n){"function"==typeof e&&(n=e),r.getItem(t,(function(t,e){return n(null,e||"")}))},e.exports.unlink=function(t,e){r.removeItem(t,(function(){return e()}))},e.exports.mkdirp=function(t,e){return e()},e.exports.ensureDatafileIntegrity=function(t,e){return e(null)}},{localforage:18}],13:[function(t,e){var n=t("__browserify_process");!function(){function t(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(i,arguments)}}var i,o,a={};null!=(i=this)&&(o=i.async),a.noConflict=function(){return i.async=o,a};var u=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n+=1)e(t[n],n,t)},s=function(t,e){if(t.map)return t.map(e);var n=[];return u(t,(function(t,r,i){n.push(e(t,r,i))})),n},c=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};void 0!==n&&n.nextTick?(a.nextTick=n.nextTick,a.setImmediate=void 0!==r?function(t){r(t)}:a.nextTick):"function"==typeof r?(a.nextTick=function(t){r(t)},a.setImmediate=a.nextTick):(a.nextTick=function(t){setTimeout(t,0)},a.setImmediate=a.nextTick),a.each=function(e,n,r){if(r=r||function(){},!e.length)return r();var i=0;u(e,(function(o){n(o,t((function(t){t?(r(t),r=function(){}):(i+=1)>=e.length&&r(null)})))}))},a.forEach=a.each,a.eachSeries=function(t,e,n){if(n=n||function(){},!t.length)return n();var r=0;!function i(){e(t[r],(function(e){e?(n(e),n=function(){}):(r+=1)>=t.length?n(null):i()}))}()},a.forEachSeries=a.eachSeries,a.eachLimit=function(t,e,n,r){f(e).apply(null,[t,n,r])},a.forEachLimit=a.eachLimit;var f=function(t){return function(e,n,r){if(r=r||function(){},!e.length||0>=t)return r();var i=0,o=0,a=0;!function u(){if(i>=e.length)return r();for(;t>a&&o<e.length;)a+=1,n(e[(o+=1)-1],(function(t){t?(r(t),r=function(){}):(a-=1,(i+=1)>=e.length?r():u())}))}()}},l=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.each].concat(e))}},h=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[a.eachSeries].concat(e))}},p=function(t,e,n,r){var i=[];t(e=s(e,(function(t,e){return{index:e,value:t}})),(function(t,e){n(t.value,(function(n,r){i[t.index]=r,e(n)}))}),(function(t){r(t,i)}))};a.map=l(p),a.mapSeries=h(p),a.mapLimit=function(t,e,n,r){return d(e)(t,n,r)};var d=function(t){return function(t,e){return function(){var n=Array.prototype.slice.call(arguments);return e.apply(null,[f(t)].concat(n))}}(t,p)};a.reduce=function(t,e,n,r){a.eachSeries(t,(function(t,r){n(e,t,(function(t,n){e=n,r(t)}))}),(function(t){r(t,e)}))},a.inject=a.reduce,a.foldl=a.reduce,a.reduceRight=function(t,e,n,r){var i=s(t,(function(t){return t})).reverse();a.reduce(i,e,n,r)},a.foldr=a.reduceRight;var y=function(t,e,n,r){var i=[];t(e=s(e,(function(t,e){return{index:e,value:t}})),(function(t,e){n(t.value,(function(n){n&&i.push(t),e()}))}),(function(){r(s(i.sort((function(t,e){return t.index-e.index})),(function(t){return t.value})))}))};a.filter=l(y),a.filterSeries=h(y),a.select=a.filter,a.selectSeries=a.filterSeries;var v=function(t,e,n,r){var i=[];t(e=s(e,(function(t,e){return{index:e,value:t}})),(function(t,e){n(t.value,(function(n){n||i.push(t),e()}))}),(function(){r(s(i.sort((function(t,e){return t.index-e.index})),(function(t){return t.value})))}))};a.reject=l(v),a.rejectSeries=h(v);var g=function(t,e,n,r){t(e,(function(t,e){n(t,(function(n){n?(r(t),r=function(){}):e()}))}),(function(){r()}))};a.detect=l(g),a.detectSeries=h(g),a.some=function(t,e,n){a.each(t,(function(t,r){e(t,(function(t){t&&(n(!0),n=function(){}),r()}))}),(function(){n(!1)}))},a.any=a.some,a.every=function(t,e,n){a.each(t,(function(t,r){e(t,(function(t){t||(n(!1),n=function(){}),r()}))}),(function(){n(!0)}))},a.all=a.every,a.sortBy=function(t,e,n){a.map(t,(function(t,n){e(t,(function(e,r){e?n(e):n(null,{value:t,criteria:r})}))}),(function(t,e){if(t)return n(t);n(null,s(e.sort((function(t,e){var n=t.criteria,r=e.criteria;return r>n?-1:n>r?1:0})),(function(t){return t.value})))}))},a.auto=function(t,e){e=e||function(){};var n=c(t);if(!n.length)return e(null);var r={},i=[],o=function(t){i.unshift(t)},s=function(t){for(var e=0;e<i.length;e+=1)if(i[e]===t)return void i.splice(e,1)},f=function(){u(i.slice(0),(function(t){t()}))};o((function(){c(r).length===n.length&&(e(null,r),e=function(){})})),u(n,(function(n){var i=t[n]instanceof Function?[t[n]]:t[n],l=function(t){var i=Array.prototype.slice.call(arguments,1);if(i.length<=1&&(i=i[0]),t){var o={};u(c(r),(function(t){o[t]=r[t]})),o[n]=i,e(t,o),e=function(){}}else r[n]=i,a.setImmediate(f)},h=i.slice(0,Math.abs(i.length-1))||[],p=function(){return function(t,e,n){return t.reduce?t.reduce(e,n):(u(t,(function(t,r,i){n=e(n,t,r,i)})),n)}(h,(function(t,e){return t&&r.hasOwnProperty(e)}),!0)&&!r.hasOwnProperty(n)};if(p())i[i.length-1](l,r);else{o((function t(){p()&&(s(t),i[i.length-1](l,r))}))}}))},a.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();!function t(n){return function(r){if(r)e.apply(null,arguments),e=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=n.next();o?i.push(t(o)):i.push(e),a.setImmediate((function(){n.apply(null,i)}))}}}(a.iterator(t))()};var m=function(t,e,n){if(n=n||function(){},e.constructor===Array)t.map(e,(function(t,e){t&&t((function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)}))}),n);else{var r={};t.each(c(e),(function(t,n){e[t]((function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[t]=i,n(e)}))}),(function(t){n(t,r)}))}};a.parallel=function(t,e){m({map:a.map,each:a.each},t,e)},a.parallelLimit=function(t,e,n){m({map:d(e),each:f(e)},t,n)},a.series=function(t,e){if(e=e||function(){},t.constructor===Array)a.mapSeries(t,(function(t,e){t&&t((function(t){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),e.call(null,t,n)}))}),e);else{var n={};a.eachSeries(c(t),(function(e,r){t[e]((function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,r(t)}))}),(function(t){e(t,n)}))}},a.iterator=function(t){return function e(n){var r=function e(){return t.length&&t[n].apply(null,arguments),e.next()};return r.next=function(){return n<t.length-1?e(n+1):null},r}(0)},a.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var b=function(t,e,n,r){var i=[];t(e,(function(t,e){n(t,(function(t,n){i=i.concat(n||[]),e(t)}))}),(function(t){r(t,i)}))};a.concat=l(b),a.concatSeries=h(b),a.whilst=function(t,e,n){t()?e((function(r){return r?n(r):void a.whilst(t,e,n)})):n()},a.doWhilst=function(t,e,n){t((function(r){return r?n(r):void(e()?a.doWhilst(t,e,n):n())}))},a.until=function(t,e,n){t()?n():e((function(r){return r?n(r):void a.until(t,e,n)}))},a.doUntil=function(t,e,n){t((function(r){return r?n(r):void(e()?n():a.doUntil(t,e,n))}))},a.queue=function(e,n){function r(t,e,r,i){e.constructor!==Array&&(e=[e]),u(e,(function(e){var o={data:e,callback:"function"==typeof i?i:null};r?t.tasks.unshift(o):t.tasks.push(o),t.saturated&&t.tasks.length===n&&t.saturated(),a.setImmediate(t.process)}))}void 0===n&&(n=1);var i=0,o={tasks:[],concurrency:n,saturated:null,empty:null,drain:null,push:function(t,e){r(o,t,!1,e)},unshift:function(t,e){r(o,t,!0,e)},process:function(){if(i<o.concurrency&&o.tasks.length){var n=o.tasks.shift();o.empty&&0===o.tasks.length&&o.empty(),i+=1;var r=t((function(){i-=1,n.callback&&n.callback.apply(n,arguments),o.drain&&0===o.tasks.length+i&&o.drain(),o.process()}));e(n.data,r)}},length:function(){return o.tasks.length},running:function(){return i}};return o},a.cargo=function(t,e){var n=!1,r=[],i={tasks:r,payload:e,saturated:null,empty:null,drain:null,push:function(t,n){t.constructor!==Array&&(t=[t]),u(t,(function(t){r.push({data:t,callback:"function"==typeof n?n:null}),i.saturated&&r.length===e&&i.saturated()})),a.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return void(i.drain&&i.drain());var a="number"==typeof e?r.splice(0,e):r.splice(0),c=s(a,(function(t){return t.data}));i.empty&&i.empty(),n=!0,t(c,(function(){n=!1;var t=arguments;u(a,(function(e){e.callback&&e.callback.apply(null,t)})),o()}))}},length:function(){return r.length},running:function(){return n}};return i};var w=function(t){return function(e){var n=Array.prototype.slice.call(arguments,1);e.apply(null,n.concat([function(e){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&u(n,(function(e){console[t](e)})))}]))}};a.log=w("log"),a.dir=w("dir"),a.memoize=function(t,e){var n={},r={};e=e||function(t){return t};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=e.apply(null,i);a in n?o.apply(null,n[a]):a in r?r[a].push(o):(r[a]=[o],t.apply(null,i.concat([function(){n[a]=arguments;var t=r[a];delete r[a];for(var e=0,i=t.length;i>e;e++)t[e].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=t,i},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return a.map(r,e,n)},a.timesSeries=function(t,e,n){for(var r=[],i=0;t>i;i++)r.push(i);return a.mapSeries(r,e,n)},a.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,n=Array.prototype.slice.call(arguments),r=n.pop();a.reduce(t,n,(function(t,n,r){n.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);r(t,e)}]))}),(function(t,n){r.apply(e,[t].concat(n))}))}};var _=function(t,e){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return t(e,(function(t,e){t.apply(n,r.concat([e]))}),i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};a.applyEach=l(_),a.applyEachSeries=h(_),a.forever=function(t,e){!function n(r){if(r){if(e)return e(r);throw r}t(n)}()},void 0!==e&&e.exports?e.exports=a:i.async=a}()},{__browserify_process:4}],14:[function(t,e){e.exports.BinarySearchTree=t("./lib/bst"),e.exports.AVLTree=t("./lib/avltree")},{"./lib/avltree":15,"./lib/bst":16}],15:[function(t,e){function n(t){this.tree=new r(t)}function r(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||o.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||o.defaultCheckValueEquality}var i=t("./bst"),o=t("./customUtils"),a=t("util");t("underscore"),a.inherits(r,i),n._AVLTree=r,r.prototype.checkHeightCorrect=function(){var t,e;if(this.hasOwnProperty("key")){if(this.left&&void 0===this.left.height)throw new Error("Undefined height for node "+this.left.key);if(this.right&&void 0===this.right.height)throw new Error("Undefined height for node "+this.right.key);if(void 0===this.height)throw new Error("Undefined height for node "+this.key);if(t=this.left?this.left.height:0,e=this.right?this.right.height:0,this.height!==1+Math.max(t,e))throw new Error("Height constraint failed for node "+this.key);this.left&&this.left.checkHeightCorrect(),this.right&&this.right.checkHeightCorrect()}},r.prototype.balanceFactor=function(){return(this.left?this.left.height:0)-(this.right?this.right.height:0)},r.prototype.checkBalanceFactors=function(){if(Math.abs(this.balanceFactor())>1)throw new Error("Tree is unbalanced at node "+this.key);this.left&&this.left.checkBalanceFactors(),this.right&&this.right.checkBalanceFactors()},r.prototype.checkIsAVLT=function(){r.super_.prototype.checkIsBST.call(this),this.checkHeightCorrect(),this.checkBalanceFactors()},n.prototype.checkIsAVLT=function(){this.tree.checkIsAVLT()},r.prototype.rightRotation=function(){var t,e,n,r,i=this,o=this.left;return o?(t=o.right,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.right=i,i.parent=o,i.left=t,t&&(t.parent=i),e=o.left?o.left.height:0,n=t?t.height:0,r=i.right?i.right.height:0,i.height=Math.max(n,r)+1,o.height=Math.max(e,i.height)+1,o):this},r.prototype.leftRotation=function(){var t,e,n,r,i=this,o=this.right;return o?(t=o.left,i.parent?(o.parent=i.parent,i.parent.left===i?i.parent.left=o:i.parent.right=o):o.parent=null,o.left=i,i.parent=o,i.right=t,t&&(t.parent=i),e=i.left?i.left.height:0,n=t?t.height:0,r=o.right?o.right.height:0,i.height=Math.max(e,n)+1,o.height=Math.max(r,i.height)+1,o):this},r.prototype.rightTooSmall=function(){return this.balanceFactor()<=1?this:(this.left.balanceFactor()<0&&this.left.leftRotation(),this.rightRotation())},r.prototype.leftTooSmall=function(){return this.balanceFactor()>=-1?this:(this.right.balanceFactor()>0&&this.right.rightRotation(),this.leftRotation())},r.prototype.rebalanceAlongPath=function(t){var e,n,r=this;if(!this.hasOwnProperty("key"))return delete this.height,this;for(n=t.length-1;n>=0;n-=1)t[n].height=1+Math.max(t[n].left?t[n].left.height:0,t[n].right?t[n].right.height:0),t[n].balanceFactor()>1&&(e=t[n].rightTooSmall(),0===n&&(r=e)),t[n].balanceFactor()<-1&&(e=t[n].leftTooSmall(),0===n&&(r=e));return r},r.prototype.insert=function(t,e){var n=[],r=this;if(!this.hasOwnProperty("key"))return this.key=t,this.data.push(e),this.height=1,this;for(;;){if(0===r.compareKeys(r.key,t)){if(r.unique){var i=new Error("Can't insert key "+t+", it violates the unique constraint");throw i.key=t,i.errorType="uniqueViolated",i}return r.data.push(e),this}if(n.push(r),r.compareKeys(t,r.key)<0){if(!r.left){n.push(r.createLeftChild({key:t,value:e}));break}r=r.left}else{if(!r.right){n.push(r.createRightChild({key:t,value:e}));break}r=r.right}}return this.rebalanceAlongPath(n)},n.prototype.insert=function(t,e){var n=this.tree.insert(t,e);n&&(this.tree=n)},r.prototype.delete=function(t,e){var n,r=[],i=this,o=[];if(!this.hasOwnProperty("key"))return this;for(;0!==i.compareKeys(t,i.key);)if(o.push(i),i.compareKeys(t,i.key)<0){if(!i.left)return this;i=i.left}else{if(!i.right)return this;i=i.right}if(i.data.length>1&&e)return i.data.forEach((function(t){i.checkValueEquality(t,e)||r.push(t)})),i.data=r,this;if(!i.left&&!i.right)return i===this?(delete i.key,i.data=[],delete i.height,this):(i.parent.left===i?i.parent.left=null:i.parent.right=null,this.rebalanceAlongPath(o));if(!i.left||!i.right)return n=i.left?i.left:i.right,i===this?(n.parent=null,n):(i.parent.left===i?(i.parent.left=n,n.parent=i.parent):(i.parent.right=n,n.parent=i.parent),this.rebalanceAlongPath(o));if(o.push(i),!(n=i.left).right)return i.key=n.key,i.data=n.data,i.left=n.left,n.left&&(n.left.parent=i),this.rebalanceAlongPath(o);for(;n.right;)o.push(n),n=n.right;return i.key=n.key,i.data=n.data,n.parent.right=n.left,n.left&&(n.left.parent=n.parent),this.rebalanceAlongPath(o)},n.prototype.delete=function(t,e){var n=this.tree.delete(t,e);n&&(this.tree=n)},["getNumberOfKeys","search","betweenBounds","prettyPrint","executeOnEveryNode"].forEach((function(t){n.prototype[t]=function(){return this.tree[t].apply(this.tree,arguments)}})),e.exports=n},{"./bst":16,"./customUtils":17,underscore:19,util:3}],16:[function(t,e){function n(t){t=t||{},this.left=null,this.right=null,this.parent=void 0!==t.parent?t.parent:null,t.hasOwnProperty("key")&&(this.key=t.key),this.data=t.hasOwnProperty("value")?[t.value]:[],this.unique=t.unique||!1,this.compareKeys=t.compareKeys||i.defaultCompareKeysFunction,this.checkValueEquality=t.checkValueEquality||i.defaultCheckValueEquality}function r(t,e){var n;for(n=0;n<e.length;n+=1)t.push(e[n])}var i=t("./customUtils");n.prototype.getMaxKeyDescendant=function(){return this.right?this.right.getMaxKeyDescendant():this},n.prototype.getMaxKey=function(){return this.getMaxKeyDescendant().key},n.prototype.getMinKeyDescendant=function(){return this.left?this.left.getMinKeyDescendant():this},n.prototype.getMinKey=function(){return this.getMinKeyDescendant().key},n.prototype.checkAllNodesFullfillCondition=function(t){this.hasOwnProperty("key")&&(t(this.key,this.data),this.left&&this.left.checkAllNodesFullfillCondition(t),this.right&&this.right.checkAllNodesFullfillCondition(t))},n.prototype.checkNodeOrdering=function(){var t=this;this.hasOwnProperty("key")&&(this.left&&(this.left.checkAllNodesFullfillCondition((function(e){if(t.compareKeys(e,t.key)>=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")})),this.left.checkNodeOrdering()),this.right&&(this.right.checkAllNodesFullfillCondition((function(e){if(t.compareKeys(e,t.key)<=0)throw new Error("Tree with root "+t.key+" is not a binary search tree")})),this.right.checkNodeOrdering()))},n.prototype.checkInternalPointers=function(){if(this.left){if(this.left.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.left.checkInternalPointers()}if(this.right){if(this.right.parent!==this)throw new Error("Parent pointer broken for key "+this.key);this.right.checkInternalPointers()}},n.prototype.checkIsBST=function(){if(this.checkNodeOrdering(),this.checkInternalPointers(),this.parent)throw new Error("The root shouldn't have a parent")},n.prototype.getNumberOfKeys=function(){var t;return this.hasOwnProperty("key")?(t=1,this.left&&(t+=this.left.getNumberOfKeys()),this.right&&(t+=this.right.getNumberOfKeys()),t):0},n.prototype.createSimilar=function(t){return(t=t||{}).unique=this.unique,t.compareKeys=this.compareKeys,t.checkValueEquality=this.checkValueEquality,new this.constructor(t)},n.prototype.createLeftChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.left=e,e},n.prototype.createRightChild=function(t){var e=this.createSimilar(t);return e.parent=this,this.right=e,e},n.prototype.insert=function(t,e){if(!this.hasOwnProperty("key"))return this.key=t,void this.data.push(e);if(0!==this.compareKeys(this.key,t))this.compareKeys(t,this.key)<0?this.left?this.left.insert(t,e):this.createLeftChild({key:t,value:e}):this.right?this.right.insert(t,e):this.createRightChild({key:t,value:e});else{if(this.unique){var n=new Error("Can't insert key "+t+", it violates the unique constraint");throw n.key=t,n.errorType="uniqueViolated",n}this.data.push(e)}},n.prototype.search=function(t){return this.hasOwnProperty("key")?0===this.compareKeys(this.key,t)?this.data:this.compareKeys(t,this.key)<0?this.left?this.left.search(t):[]:this.right?this.right.search(t):[]:[]},n.prototype.getLowerBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$gt")||t.hasOwnProperty("$gte")?t.hasOwnProperty("$gt")&&t.hasOwnProperty("$gte")?0===e.compareKeys(t.$gte,t.$gt)?function(n){return e.compareKeys(n,t.$gt)>0}:e.compareKeys(t.$gte,t.$gt)>0?function(n){return e.compareKeys(n,t.$gte)>=0}:function(n){return e.compareKeys(n,t.$gt)>0}:t.hasOwnProperty("$gt")?function(n){return e.compareKeys(n,t.$gt)>0}:function(n){return e.compareKeys(n,t.$gte)>=0}:function(){return!0}},n.prototype.getUpperBoundMatcher=function(t){var e=this;return t.hasOwnProperty("$lt")||t.hasOwnProperty("$lte")?t.hasOwnProperty("$lt")&&t.hasOwnProperty("$lte")?0===e.compareKeys(t.$lte,t.$lt)?function(n){return e.compareKeys(n,t.$lt)<0}:e.compareKeys(t.$lte,t.$lt)<0?function(n){return e.compareKeys(n,t.$lte)<=0}:function(n){return e.compareKeys(n,t.$lt)<0}:t.hasOwnProperty("$lt")?function(n){return e.compareKeys(n,t.$lt)<0}:function(n){return e.compareKeys(n,t.$lte)<=0}:function(){return!0}},n.prototype.betweenBounds=function(t,e,n){var i=[];return this.hasOwnProperty("key")?(e=e||this.getLowerBoundMatcher(t),n=n||this.getUpperBoundMatcher(t),e(this.key)&&this.left&&r(i,this.left.betweenBounds(t,e,n)),e(this.key)&&n(this.key)&&r(i,this.data),n(this.key)&&this.right&&r(i,this.right.betweenBounds(t,e,n)),i):[]},n.prototype.deleteIfLeaf=function(){return!this.left&&!this.right&&(this.parent?(this.parent.left===this?this.parent.left=null:this.parent.right=null,!0):(delete this.key,this.data=[],!0))},n.prototype.deleteIfOnlyOneChild=function(){var t;return this.left&&!this.right&&(t=this.left),!this.left&&this.right&&(t=this.right),!!t&&(this.parent?(this.parent.left===this?(this.parent.left=t,t.parent=this.parent):(this.parent.right=t,t.parent=this.parent),!0):(this.key=t.key,this.data=t.data,this.left=null,t.left&&(this.left=t.left,t.left.parent=this),this.right=null,t.right&&(this.right=t.right,t.right.parent=this),!0))},n.prototype.delete=function(t,e){var n,r=[],i=this;if(this.hasOwnProperty("key")){if(this.compareKeys(t,this.key)<0)return void(this.left&&this.left.delete(t,e));if(this.compareKeys(t,this.key)>0)return void(this.right&&this.right.delete(t,e));if(0!==!this.compareKeys(t,this.key))return this.data.length>1&&void 0!==e?(this.data.forEach((function(t){i.checkValueEquality(t,e)||r.push(t)})),void(i.data=r)):void(this.deleteIfLeaf()||this.deleteIfOnlyOneChild()||(Math.random()>=.5?(n=this.left.getMaxKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.left=n.left,n.left&&(n.left.parent=n.parent)):(n.parent.right=n.left,n.left&&(n.left.parent=n.parent))):(n=this.right.getMinKeyDescendant(),this.key=n.key,this.data=n.data,this===n.parent?(this.right=n.right,n.right&&(n.right.parent=n.parent)):(n.parent.left=n.right,n.right&&(n.right.parent=n.parent)))))}},n.prototype.executeOnEveryNode=function(t){this.left&&this.left.executeOnEveryNode(t),t(this),this.right&&this.right.executeOnEveryNode(t)},n.prototype.prettyPrint=function(t,e){e=e||"",console.log(e+"* "+this.key),t&&console.log(e+"* "+this.data),(this.left||this.right)&&(this.left?this.left.prettyPrint(t,e+"  "):console.log(e+"  *"),this.right?this.right.prettyPrint(t,e+"  "):console.log(e+"  *"))},e.exports=n},{"./customUtils":17}],17:[function(t,e){e.exports.getRandomArray=function t(e){var n,r;return 0===e?[]:1===e?[0]:(n=t(e-1),r=Math.floor(Math.random()*e),n.splice(r,0,e-1),n)},e.exports.defaultCompareKeysFunction=function(t,e){if(e>t)return-1;if(t>e)return 1;if(t===e)return 0;var n=new Error("Couldn't compare elements");throw n.a=t,n.b=e,n},e.exports.defaultCheckValueEquality=function(t,e){return t===e}},{}],18:[function(t,e,n){var r=t("__browserify_process"),i=self;!function(){var t,e,n;!function(){var r={},i={};t=function(t,e,n){r[t]={deps:e,callback:n}},n=e=function(t){function o(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var a=n[i];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(n._eak_seen=r,i[t])return i[t];if(i[t]={},!r[t])throw new Error("Could not find module "+t);for(var a,u=r[t],s=u.deps,c=u.callback,f=[],l=0,h=s.length;h>l;l++)"exports"===s[l]?f.push(a={}):f.push(e(o(s[l])));var p=c.apply(this,f);return i[t]=a||p}}(),t("promise/all",["./utils","exports"],(function(t,e){"use strict";var n=t.isArray,r=t.isFunction;e.all=function(t){if(!n(t))throw new TypeError("You must pass an array to all.");return new this((function(e,n){function i(t){return function(e){o(t,e)}}function o(t,n){u[t]=n,0==--s&&e(u)}var a,u=[],s=t.length;0===s&&e([]);for(var c=0;c<t.length;c++)(a=t[c])&&r(a.then)?a.then(i(c),n):o(c,a)}))}})),t("promise/asap",["exports"],(function(t){"use strict";function e(){for(var t=0;t<s.length;t++){var e=s[t];(0,e[0])(e[1])}s=[]}var n,o="undefined"!=typeof window?window:{},a=o.MutationObserver||o.WebKitMutationObserver,u=void 0!==i?i:void 0===this?window:this,s=[];n=void 0!==r&&"[object process]"==={}.toString.call(r)?function(){r.nextTick(e)}:a?function(){var t=0,n=new a(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=t=++t%2}}():function(){u.setTimeout(e,1)},t.asap=function(t,e){1===s.push([t,e])&&n()}})),t("promise/config",["exports"],(function(t){"use strict";var e={instrument:!1};t.config=e,t.configure=function(t,n){return 2!==arguments.length?e[t]:void(e[t]=n)}})),t("promise/polyfill",["./promise","./utils","exports"],(function(t,e,n){"use strict";var r=t.Promise,o=e.isFunction;n.polyfill=function(){var t;"Promise"in(t=void 0!==i?i:"undefined"!=typeof window&&window.document?window:self)&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise((function(t){e=t})),o(e)}()||(t.Promise=r)}})),t("promise/promise",["./config","./utils","./all","./race","./resolve","./reject","./asap","exports"],(function(t,e,n,r,i,o,a,u){"use strict";function s(t){if(!w(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof s))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],function(t,e){function n(t){y(e,t)}try{t((function(t){p(e,t)}),n)}catch(t){n(t)}}(t,this)}function c(t,e,n,r){var i,o,a,u,s=w(n);if(s)try{i=n(r),a=!0}catch(t){u=!0,o=t}else i=r,a=!0;h(e,i)||(s&&a?p(e,i):u?y(e,o):t===j?p(e,i):t===I&&y(e,i))}function f(t,e,n,r){var i=t._subscribers,o=i.length;i[o]=e,i[o+j]=n,i[o+I]=r}function l(t,e){for(var n=t._subscribers,r=t._detail,i=0;i<n.length;i+=3)c(e,n[i],n[i+e],r);t._subscribers=null}function h(t,e){var n,r=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(b(e)&&(r=e.then,w(r)))return r.call(e,(function(r){return!!n||(n=!0,void(e!==r?p(t,r):d(t,r)))}),(function(e){return!!n||(n=!0,void y(t,e))})),!0}catch(e){return n||y(t,e),!0}return!1}function p(t,e){t===e?d(t,e):h(t,e)||d(t,e)}function d(t,e){t._state===O&&(t._state=S,t._detail=e,m.async(v,t))}function y(t,e){t._state===O&&(t._state=S,t._detail=e,m.async(g,t))}function v(t){l(t,t._state=j)}function g(t){l(t,t._state=I)}var m=t.config;t.configure;var b=e.objectOrFunction,w=e.isFunction;e.now;var _=n.all,k=r.race,x=i.resolve,E=o.reject,A=a.asap;m.async=A;var O=void 0,S=0,j=1,I=2;s.prototype={constructor:s,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var n=this,r=new this.constructor((function(){}));if(this._state){var i=arguments;m.async((function(){c(n._state,r,i[n._state-1],n._detail)}))}else f(this,r,t,e);return r},catch:function(t){return this.then(null,t)}},s.all=_,s.race=k,s.resolve=x,s.reject=E,u.Promise=s})),t("promise/race",["./utils","exports"],(function(t,e){"use strict";var n=t.isArray;e.race=function(t){if(!n(t))throw new TypeError("You must pass an array to race.");return new this((function(e,n){for(var r,i=0;i<t.length;i++)(r=t[i])&&"function"==typeof r.then?r.then(e,n):e(r)}))}})),t("promise/reject",["exports"],(function(t){"use strict";t.reject=function(t){return new this((function(e,n){n(t)}))}})),t("promise/resolve",["exports"],(function(t){"use strict";t.resolve=function(t){return t&&"object"==a(t)&&t.constructor===this?t:new this((function(e){e(t)}))}})),t("promise/utils",["exports"],(function(t){"use strict";function e(t){return"function"==typeof t}var n=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=function(t){return e(t)||"object"==a(t)&&null!==t},t.isFunction=e,t.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},t.now=n})),e("promise/polyfill").polyfill()}(),function(t,r){"object"==a(n)&&"object"==a(e)?e.exports=r():"object"==a(n)?n.localforage=r():t.localforage=r()}(this,(function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";e.__esModule=!0,function(){function t(t,e){t[e]=function(){var n=arguments;return t.ready().then((function(){return t[e].apply(t,n)}))}}function r(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=h(e[n])?e[n].slice():e[n])}return arguments[0]}function i(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e]===t)return!0;return!1}var o={},u={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},s=[u.INDEXEDDB,u.WEBSQL,u.LOCALSTORAGE],c=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],f={description:"",driver:s.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},l=function(t){var e=e||t.indexedDB||t.webkitIndexedDB||t.mozIndexedDB||t.OIndexedDB||t.msIndexedDB,n={};return n[u.WEBSQL]=!!t.openDatabase,n[u.INDEXEDDB]=!!function(){if(void 0!==t.openDatabase&&t.navigator&&t.navigator.userAgent&&/Safari/.test(t.navigator.userAgent)&&!/Chrome/.test(t.navigator.userAgent))return!1;try{return e&&"function"==typeof e.open&&void 0!==t.IDBKeyRange}catch(t){return!1}}(),n[u.LOCALSTORAGE]=!!function(){try{return t.localStorage&&"setItem"in t.localStorage&&t.localStorage.setItem}catch(t){return!1}}(),n}(this),h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},p=new(function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.INDEXEDDB=u.INDEXEDDB,this.LOCALSTORAGE=u.LOCALSTORAGE,this.WEBSQL=u.WEBSQL,this._defaultConfig=r({},f),this._config=r({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver)}return e.prototype.config=function(t){if("object"==a(t)){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t)"storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),this._config[e]=t[e];return"driver"in t&&t.driver&&this.setDriver(this._config.driver),!0}return"string"==typeof t?this._config[t]:this._config},e.prototype.defineDriver=function(t,e,n){var r=new Promise((function(e,n){try{var r=t._driver,a=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),u=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void n(a);if(i(t._driver))return void n(u);for(var s=c.concat("_initStorage"),f=0;f<s.length;f++){var h=s[f];if(!h||!t[h]||"function"!=typeof t[h])return void n(a)}var p=Promise.resolve(!0);"_support"in t&&(p=t._support&&"function"==typeof t._support?t._support():Promise.resolve(!!t._support)),p.then((function(n){l[r]=n,o[r]=t,e()}),n)}catch(t){n(t)}}));return r.then(e,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(t,e,r){var a=this,u=function(){if(i(t))switch(t){case a.INDEXEDDB:return new Promise((function(t){t(n(1))}));case a.LOCALSTORAGE:return new Promise((function(t){t(n(2))}));case a.WEBSQL:return new Promise((function(t){t(n(4))}))}else if(o[t])return Promise.resolve(o[t]);return Promise.reject(new Error("Driver not found."))}();return u.then(e,r),u},e.prototype.getSerializer=function(t){var e=new Promise((function(t){t(n(3))}));return t&&"function"==typeof t&&e.then((function(e){t(e)})),e},e.prototype.ready=function(t){var e=this,n=e._driverSet.then((function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready}));return n.then(t,t),n},e.prototype.setDriver=function(t,e,n){function r(){i._config.driver=i.driver()}var i=this;h(t)||(t=[t]);var o=this._getSupportedDrivers(t),a=null!==this._driverSet?this._driverSet.catch((function(){return Promise.resolve()})):Promise.resolve();return this._driverSet=a.then((function(){var t=o[0];return i._dbInfo=null,i._ready=null,i.getDriver(t).then((function(t){i._driver=t._driver,r(),i._wrapLibraryMethodsWithReady(),i._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var o=t[e];return e++,i._dbInfo=null,i._ready=null,i.getDriver(o).then((function(t){return i._extend(t),r(),i._ready=i._initStorage(i._config),i._ready})).catch(n)}r();var a=new Error("No available storage method found.");return i._driverSet=Promise.reject(a),i._driverSet}()}}(o)}))})).catch((function(){r();var t=new Error("No available storage method found.");return i._driverSet=Promise.reject(t),i._driverSet})),this._driverSet.then(e,n),this._driverSet},e.prototype.supports=function(t){return!!l[t]},e.prototype._extend=function(t){r(this,t)},e.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;r>n;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0;e<c.length;e++)t(this,c[e])},e.prototype.createInstance=function(t){return new e(t)},e}());e.default=p}.call("undefined"!=typeof window?window:self),t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,function(){function t(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(s.BlobBuilder||s.MSBlobBuilder||s.MozBlobBuilder||s.WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}function n(e){return new Promise((function(n,r){var i=t([""],{type:"image/png"}),o=e.transaction([h],"readwrite");o.objectStore(h).put(i,"key"),o.oncomplete=function(){var t=e.transaction([h],"readwrite").objectStore(h).get("key");t.onerror=r,t.onsuccess=function(t){var e=t.target.result,r=URL.createObjectURL(e);(function(t){return new Promise((function(e,n){var r=new XMLHttpRequest;r.open("GET",t),r.withCredentials=!0,r.responseType="arraybuffer",r.onreadystatechange=function(){return 4===r.readyState?200===r.status?e({response:r.response,type:r.getResponseHeader("Content-Type")}):void n({status:r.status,response:r.response}):void 0},r.send()}))})(r).then((function(t){n(!(!t||"image/png"!==t.type))}),(function(){n(!1)})).then((function(){URL.revokeObjectURL(r)}))}}})).catch((function(){return!1}))}function r(t){return"boolean"==typeof f?Promise.resolve(f):n(t).then((function(t){return f=t}))}function i(e){var n=function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;e>i;i++)r[i]=t.charCodeAt(i);return n}(atob(e.data));return t([n],{type:e.type})}function o(t){return t&&t.__local_forage_encoded_blob}function a(t,e){return new Promise((function(n,r){if(t.db){if(!e)return n(t.db);t.db.close()}var i=[t.name];e&&i.push(t.version);var o=c.open.apply(c,i);e&&(o.onupgradeneeded=function(e){var n=o.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;s.console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(){r(o.error)},o.onsuccess=function(){n(o.result)}}))}function u(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}var s=this,c=c||this.indexedDB||this.webkitIndexedDB||this.mozIndexedDB||this.OIndexedDB||this.msIndexedDB;if(c){var f,l,h="local-forage-detect-blob-support",p={_driver:"asyncStorage",_initStorage:function(t){function e(){return Promise.resolve()}var n=this,r={db:null};if(t)for(var i in t)r[i]=t[i];l||(l={});var o=l[r.name];o||(o={forages:[],db:null},l[r.name]=o),o.forages.push(this);for(var u=[],c=0;c<o.forages.length;c++){var f=o.forages[c];f!==this&&u.push(f.ready().catch(e))}var h=o.forages.slice(0);return Promise.all(u).then((function(){return r.db=o.db,function(t){return a(t,!1)}(r)})).then((function(t){return r.db=t,function(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version<t.db.version,i=t.version>t.db.version;if(r&&(t.version!==e&&s.console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),i||n){if(n){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}(r,n._defaultConfig.version)?function(t){return a(t,!0)}(r):t})).then((function(t){for(var e in r.db=o.db=t,n._dbInfo=r,h){var i=h[e];i!==n&&(i._dbInfo.db=r.db,i._dbInfo.version=r.version)}}))},iterate:function(t,e){var n=this,r=new Promise((function(e,r){n.ready().then((function(){var a=n._dbInfo,u=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName).openCursor(),s=1;u.onsuccess=function(){var n=u.result;if(n){var r=n.value;o(r)&&(r=i(r));var a=t(r,n.key,s++);void 0!==a?e(a):n.continue()}else e()},u.onerror=function(){r(u.error)}})).catch(r)}));return u(r,e),r},getItem:function(t,e){var n=this;"string"!=typeof t&&(s.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise((function(e,r){n.ready().then((function(){var a=n._dbInfo,u=a.db.transaction(a.storeName,"readonly").objectStore(a.storeName).get(t);u.onsuccess=function(){var t=u.result;void 0===t&&(t=null),o(t)&&(t=i(t)),e(t)},u.onerror=function(){r(u.error)}})).catch(r)}));return u(r,e),r},setItem:function(t,e,n){var i=this;"string"!=typeof t&&(s.console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new Promise((function(n,o){var a;i.ready().then((function(){return r((a=i._dbInfo).db)})).then((function(t){return!t&&e instanceof Blob?function(t){return new Promise((function(e,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:t.type})},r.readAsBinaryString(t)}))}(e):e})).then((function(e){var r=a.db.transaction(a.storeName,"readwrite"),i=r.objectStore(a.storeName);null===e&&(e=void 0);var u=i.put(e,t);r.oncomplete=function(){void 0===e&&(e=null),n(e)},r.onabort=r.onerror=function(){var t=u.error?u.error:u.transaction.error;o(t)}})).catch(o)}));return u(o,n),o},removeItem:function(t,e){var n=this;"string"!=typeof t&&(s.console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new Promise((function(e,r){n.ready().then((function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readwrite"),a=o.objectStore(i.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){var t=a.error?a.error:a.transaction.error;r(t)}})).catch(r)}));return u(r,e),r},clear:function(t){var e=this,n=new Promise((function(t,n){e.ready().then((function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readwrite"),o=i.objectStore(r.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){var t=o.error?o.error:o.transaction.error;n(t)}})).catch(n)}));return u(n,t),n},length:function(t){var e=this,n=new Promise((function(t,n){e.ready().then((function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).count();i.onsuccess=function(){t(i.result)},i.onerror=function(){n(i.error)}})).catch(n)}));return u(n,t),n},key:function(t,e){var n=this,r=new Promise((function(e,r){return 0>t?void e(null):void n.ready().then((function(){var i=n._dbInfo,o=i.db.transaction(i.storeName,"readonly").objectStore(i.storeName),a=!1,u=o.openCursor();u.onsuccess=function(){var n=u.result;return n?void(0===t||a?e(n.key):(a=!0,n.advance(t))):void e(null)},u.onerror=function(){r(u.error)}})).catch(r)}));return u(r,e),r},keys:function(t){var e=this,n=new Promise((function(t,n){e.ready().then((function(){var r=e._dbInfo,i=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).openCursor(),o=[];i.onsuccess=function(){var e=i.result;return e?(o.push(e.key),void e.continue()):void t(o)},i.onerror=function(){n(i.error)}})).catch(n)}));return u(n,t),n}};e.default=p}}.call("undefined"!=typeof window?window:self),t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,function(){function t(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}var r=this,i=null;try{if(!this.localStorage||!("setItem"in this.localStorage))return;i=this.localStorage}catch(t){return}var o={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var r in t)e[r]=t[r];return e.keyPrefix=e.name+"/",e.storeName!==this._defaultConfig.storeName&&(e.keyPrefix+=e.storeName+"/"),this._dbInfo=e,new Promise((function(t){t(n(3))})).then((function(t){return e.serializer=t,Promise.resolve()}))},iterate:function(e,n){var r=this,o=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,a=i.length,u=1,s=0;a>s;s++){var c=i.key(s);if(0===c.indexOf(n)){var f=i.getItem(c);if(f&&(f=t.serializer.deserialize(f)),void 0!==(f=e(f,c.substring(o),u++)))return f}}}));return t(o,n),o},getItem:function(e,n){var o=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=o.ready().then((function(){var t=o._dbInfo,n=i.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return t(a,n),a},setItem:function(e,n,o){var a=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var u=a.ready().then((function(){void 0===n&&(n=null);var t=n;return new Promise((function(r,o){var u=a._dbInfo;u.serializer.serialize(n,(function(n,a){if(a)o(a);else try{i.setItem(u.keyPrefix+e,n),r(t)}catch(t){("QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&o(t),o(t)}}))}))}));return t(u,o),u},removeItem:function(e,n){var o=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=o.ready().then((function(){var t=o._dbInfo;i.removeItem(t.keyPrefix+e)}));return t(a,n),a},clear:function(e){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo.keyPrefix,e=i.length-1;e>=0;e--){var r=i.key(e);0===r.indexOf(t)&&i.removeItem(r)}}));return t(r,e),r},length:function(e){var n=this.keys().then((function(t){return t.length}));return t(n,e),n},key:function(e,n){var r=this,o=r.ready().then((function(){var t,n=r._dbInfo;try{t=i.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return t(o,n),o},keys:function(e){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,e=i.length,r=[],o=0;e>o;o++)0===i.key(o).indexOf(t.keyPrefix)&&r.push(i.key(o).substring(t.keyPrefix.length));return r}));return t(r,e),r}};e.default=o}.call("undefined"!=typeof window?window:self),t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,function(){function t(t){var e,n,i,o,a,u=.75*t.length,s=t.length,c=0;"="===t[t.length-1]&&(u--,"="===t[t.length-2]&&u--);var f=new ArrayBuffer(u),l=new Uint8Array(f);for(e=0;s>e;e+=4)n=r.indexOf(t[e]),i=r.indexOf(t[e+1]),o=r.indexOf(t[e+2]),a=r.indexOf(t[e+3]),l[c++]=n<<2|i>>4,l[c++]=(15&i)<<4|o>>2,l[c++]=(3&o)<<6|63&a;return f}function n(t){var e,n=new Uint8Array(t),i="";for(e=0;e<n.length;e+=3)i+=r[n[e]>>2],i+=r[(3&n[e])<<4|n[e+1]>>4],i+=r[(15&n[e+1])<<2|n[e+2]>>6],i+=r[63&n[e+2]];return 2==n.length%3?i=i.substring(0,i.length-1)+"=":1==n.length%3&&(i=i.substring(0,i.length-2)+"=="),i}var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="~~local_forage_type~",o=/^~~local_forage_type~([^~]+)~/,a="__lfsc__:",u=a.length,s="arbf",c="blob",f="si08",l="ui08",h="uic8",p="si16",d="si32",y="ur16",v="ui32",g="fl32",m="fl64",b=u+s.length,w=this,_={serialize:function(t,e){var r="";if(t&&(r=t.toString()),t&&("[object ArrayBuffer]"===t.toString()||t.buffer&&"[object ArrayBuffer]"===t.buffer.toString())){var o,u=a;t instanceof ArrayBuffer?(o=t,u+=s):(o=t.buffer,"[object Int8Array]"===r?u+=f:"[object Uint8Array]"===r?u+=l:"[object Uint8ClampedArray]"===r?u+=h:"[object Int16Array]"===r?u+=p:"[object Uint16Array]"===r?u+=y:"[object Int32Array]"===r?u+=d:"[object Uint32Array]"===r?u+=v:"[object Float32Array]"===r?u+=g:"[object Float64Array]"===r?u+=m:e(new Error("Failed to get type for BinaryArray"))),e(u+n(o))}else if("[object Blob]"===r){var b=new FileReader;b.onload=function(){var r=i+t.type+"~"+n(this.result);e(a+c+r)},b.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(n){console.error("Couldn't convert value into a JSON string: ",t),e(null,n)}},deserialize:function(e){if(e.substring(0,u)!==a)return JSON.parse(e);var n,r=e.substring(b),i=e.substring(u,b);if(i===c&&o.test(r)){var _=r.match(o);n=_[1],r=r.substring(_[0].length)}var k=t(r);switch(i){case s:return k;case c:return function(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new(w.BlobBuilder||w.MSBlobBuilder||w.MozBlobBuilder||w.WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}([k],{type:n});case f:return new Int8Array(k);case l:return new Uint8Array(k);case h:return new Uint8ClampedArray(k);case p:return new Int16Array(k);case y:return new Uint16Array(k);case d:return new Int32Array(k);case v:return new Uint32Array(k);case g:return new Float32Array(k);case m:return new Float64Array(k);default:throw new Error("Unkown type: "+i)}},stringToBuffer:t,bufferToString:n};e.default=_}.call("undefined"!=typeof window?window:self),t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,function(){function t(t,e){e&&t.then((function(t){e(null,t)}),(function(t){e(t)}))}var r=this,i=this.openDatabase;if(i){var o={_driver:"webSQLStorage",_initStorage:function(t){var e=this,r={db:null};if(t)for(var o in t)r[o]="string"!=typeof t[o]?t[o].toString():t[o];var a=new Promise((function(n,o){try{r.db=i(r.name,String(r.version),r.description,r.size)}catch(r){return e.setDriver(e.LOCALSTORAGE).then((function(){return e._initStorage(t)})).then(n).catch(o)}r.db.transaction((function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+r.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],(function(){e._dbInfo=r,n()}),(function(t,e){o(e)}))}))}));return new Promise((function(t){t(n(3))})).then((function(t){return r.serializer=t,a}))},iterate:function(e,n){var r=this,i=new Promise((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){r.executeSql("SELECT * FROM "+i.storeName,[],(function(n,r){for(var o=r.rows,a=o.length,u=0;a>u;u++){var s=o.item(u),c=s.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,s.key,u+1)))return void t(c)}t()}),(function(t,e){n(e)}))}))})).catch(n)}));return t(i,n),i},getItem:function(e,n){var i=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new Promise((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){i.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var i=n.rows.length?n.rows.item(0).value:null;i&&(i=r.serializer.deserialize(i)),t(i)}),(function(t,e){n(e)}))}))})).catch(n)}));return t(o,n),o},setItem:function(e,n,i){var o=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var a=new Promise((function(t,r){o.ready().then((function(){void 0===n&&(n=null);var i=n,a=o._dbInfo;a.serializer.serialize(n,(function(n,o){o?r(o):a.db.transaction((function(o){o.executeSql("INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[e,n],(function(){t(i)}),(function(t,e){r(e)}))}),(function(t){t.code===t.QUOTA_ERR&&r(t)}))}))})).catch(r)}));return t(a,i),a},removeItem:function(e,n){var i=this;"string"!=typeof e&&(r.console.warn(e+" used as a key, but it is not a string."),e=String(e));var o=new Promise((function(t,n){i.ready().then((function(){var r=i._dbInfo;r.db.transaction((function(i){i.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[e],(function(){t()}),(function(t,e){n(e)}))}))})).catch(n)}));return t(o,n),o},clear:function(e){var n=this,r=new Promise((function(t,e){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){n.executeSql("DELETE FROM "+r.storeName,[],(function(){t()}),(function(t,n){e(n)}))}))})).catch(e)}));return t(r,e),r},length:function(e){var n=this,r=new Promise((function(t,e){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){n.executeSql("SELECT COUNT(key) as c FROM "+r.storeName,[],(function(e,n){var r=n.rows.item(0).c;t(r)}),(function(t,n){e(n)}))}))})).catch(e)}));return t(r,e),r},key:function(e,n){var r=this,i=new Promise((function(t,n){r.ready().then((function(){var i=r._dbInfo;i.db.transaction((function(r){r.executeSql("SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(t,e){n(e)}))}))})).catch(n)}));return t(i,n),i},keys:function(e){var n=this,r=new Promise((function(t,e){n.ready().then((function(){var r=n._dbInfo;r.db.transaction((function(n){n.executeSql("SELECT key FROM "+r.storeName,[],(function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)}),(function(t,n){e(n)}))}))})).catch(e)}));return t(r,e),r}};e.default=o}}.call("undefined"!=typeof window?window:self),t.exports=e.default}])}))},{__browserify_process:4}],19:[function(t,e,n){(function(){var t=this,r=t._,i={},o=Array.prototype,u=Object.prototype,s=Function.prototype,c=o.push,f=o.slice,l=o.concat,h=u.toString,p=u.hasOwnProperty,d=o.forEach,y=o.map,v=o.reduce,g=o.reduceRight,m=o.filter,b=o.every,w=o.some,_=o.indexOf,k=o.lastIndexOf,x=Array.isArray,E=Object.keys,A=s.bind,O=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=O),n._=O):t._=O,O.VERSION="1.4.4";var S=O.each=O.forEach=function(t,e,n){if(null!=t)if(d&&t.forEach===d)t.forEach(e,n);else if(t.length===+t.length){for(var r=0,o=t.length;o>r;r++)if(e.call(n,t[r],r,t)===i)return}else for(var a in t)if(O.has(t,a)&&e.call(n,t[a],a,t)===i)return};O.map=O.collect=function(t,e,n){var r=[];return null==t?r:y&&t.map===y?t.map(e,n):(S(t,(function(t,i,o){r[r.length]=e.call(n,t,i,o)})),r)};var j="Reduce of empty array with no initial value";O.reduce=O.foldl=O.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),v&&t.reduce===v)return r&&(e=O.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(S(t,(function(t,o,a){i?n=e.call(r,n,t,o,a):(n=t,i=!0)})),!i)throw new TypeError(j);return n},O.reduceRight=O.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduceRight===g)return r&&(e=O.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var a=O.keys(t);o=a.length}if(S(t,(function(u,s,c){s=a?a[--o]:--o,i?n=e.call(r,n,t[s],s,c):(n=t[s],i=!0)})),!i)throw new TypeError(j);return n},O.find=O.detect=function(t,e,n){var r;return I(t,(function(t,i,o){return e.call(n,t,i,o)?(r=t,!0):void 0})),r},O.filter=O.select=function(t,e,n){var r=[];return null==t?r:m&&t.filter===m?t.filter(e,n):(S(t,(function(t,i,o){e.call(n,t,i,o)&&(r[r.length]=t)})),r)},O.reject=function(t,e,n){return O.filter(t,(function(t,r,i){return!e.call(n,t,r,i)}),n)},O.every=O.all=function(t,e,n){e||(e=O.identity);var r=!0;return null==t?r:b&&t.every===b?t.every(e,n):(S(t,(function(t,o,a){return(r=r&&e.call(n,t,o,a))?void 0:i})),!!r)};var I=O.some=O.any=function(t,e,n){e||(e=O.identity);var r=!1;return null==t?r:w&&t.some===w?t.some(e,n):(S(t,(function(t,o,a){return r||(r=e.call(n,t,o,a))?i:void 0})),!!r)};O.contains=O.include=function(t,e){return null!=t&&(_&&t.indexOf===_?-1!=t.indexOf(e):I(t,(function(t){return t===e})))},O.invoke=function(t,e){var n=f.call(arguments,2),r=O.isFunction(e);return O.map(t,(function(t){return(r?e:t[e]).apply(t,n)}))},O.pluck=function(t,e){return O.map(t,(function(t){return t[e]}))},O.where=function(t,e,n){return O.isEmpty(e)?n?null:[]:O[n?"find":"filter"](t,(function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0}))},O.findWhere=function(t,e){return O.where(t,e,!0)},O.max=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&O.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return S(t,(function(t,i,o){var a=e?e.call(n,t,i,o):t;a>=r.computed&&(r={value:t,computed:a})})),r.value},O.min=function(t,e,n){if(!e&&O.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&O.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return S(t,(function(t,i,o){var a=e?e.call(n,t,i,o):t;a<r.computed&&(r={value:t,computed:a})})),r.value},O.shuffle=function(t){var e,n=0,r=[];return S(t,(function(t){e=O.random(n++),r[n-1]=r[e],r[e]=t})),r};var D=function(t){return O.isFunction(t)?t:function(e){return e[t]}};O.sortBy=function(t,e,n){var r=D(e);return O.pluck(O.map(t,(function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}})).sort((function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index<e.index?-1:1})),"value")};var T=function(t,e,n,r){var i={},o=D(e||O.identity);return S(t,(function(e,a){var u=o.call(n,e,a,t);r(i,u,e)})),i};O.groupBy=function(t,e,n){return T(t,e,n,(function(t,e,n){(O.has(t,e)?t[e]:t[e]=[]).push(n)}))},O.countBy=function(t,e,n){return T(t,e,n,(function(t,e){O.has(t,e)||(t[e]=0),t[e]++}))},O.sortedIndex=function(t,e,n,r){for(var i=(n=null==n?O.identity:D(n)).call(r,e),o=0,a=t.length;a>o;){var u=o+a>>>1;n.call(r,t[u])<i?o=u+1:a=u}return o},O.toArray=function(t){return t?O.isArray(t)?f.call(t):t.length===+t.length?O.map(t,O.identity):O.values(t):[]},O.size=function(t){return null==t?0:t.length===+t.length?t.length:O.keys(t).length},O.first=O.head=O.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:f.call(t,0,e)},O.initial=function(t,e,n){return f.call(t,0,t.length-(null==e||n?1:e))},O.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:f.call(t,Math.max(t.length-e,0))},O.rest=O.tail=O.drop=function(t,e,n){return f.call(t,null==e||n?1:e)},O.compact=function(t){return O.filter(t,O.identity)};var $=function t(e,n,r){return S(e,(function(e){O.isArray(e)?n?c.apply(r,e):t(e,n,r):r.push(e)})),r};O.flatten=function(t,e){return $(t,e,[])},O.without=function(t){return O.difference(t,f.call(arguments,1))},O.uniq=O.unique=function(t,e,n,r){O.isFunction(e)&&(r=n,n=e,e=!1);var i=n?O.map(t,n,r):t,o=[],a=[];return S(i,(function(n,r){(e?r&&a[a.length-1]===n:O.contains(a,n))||(a.push(n),o.push(t[r]))})),o},O.union=function(){return O.uniq(l.apply(o,arguments))},O.intersection=function(t){var e=f.call(arguments,1);return O.filter(O.uniq(t),(function(t){return O.every(e,(function(e){return O.indexOf(e,t)>=0}))}))},O.difference=function(t){var e=l.apply(o,f.call(arguments,1));return O.filter(t,(function(t){return!O.contains(e,t)}))},O.zip=function(){for(var t=f.call(arguments),e=O.max(O.pluck(t,"length")),n=new Array(e),r=0;e>r;r++)n[r]=O.pluck(t,""+r);return n},O.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},O.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return t[r=O.sortedIndex(t,e)]===e?r:-1;r=0>n?Math.max(0,i+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;i>r;r++)if(t[r]===e)return r;return-1},O.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(k&&t.lastIndexOf===k)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},O.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);r>i;)o[i++]=t,t+=n;return o},O.bind=function(t,e){if(t.bind===A&&A)return A.apply(t,f.call(arguments,1));var n=f.call(arguments,2);return function(){return t.apply(e,n.concat(f.call(arguments)))}},O.partial=function(t){var e=f.call(arguments,1);return function(){return t.apply(this,e.concat(f.call(arguments)))}},O.bindAll=function(t){var e=f.call(arguments,1);return 0===e.length&&(e=O.functions(t)),S(e,(function(e){t[e]=O.bind(t[e],t)})),t},O.memoize=function(t,e){var n={};return e||(e=O.identity),function(){var r=e.apply(this,arguments);return O.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},O.delay=function(t,e){var n=f.call(arguments,2);return setTimeout((function(){return t.apply(null,n)}),e)},O.defer=function(t){return O.delay.apply(O,[t,1].concat(f.call(arguments,1)))},O.throttle=function(t,e){var n,r,i,o,a=0,u=function(){a=new Date,i=null,o=t.apply(n,r)};return function(){var s=new Date,c=e-(s-a);return n=this,r=arguments,0>=c?(clearTimeout(i),i=null,a=s,o=t.apply(n,r)):i||(i=setTimeout(u,c)),o}},O.debounce=function(t,e,n){var r,i;return function(){var o=this,a=arguments,u=function(){r=null,n||(i=t.apply(o,a))},s=n&&!r;return clearTimeout(r),r=setTimeout(u,e),s&&(i=t.apply(o,a)),i}},O.once=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(this,arguments),t=null),e}},O.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},O.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},O.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},O.keys=E||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)O.has(t,n)&&(e[e.length]=n);return e},O.values=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push(t[n]);return e},O.pairs=function(t){var e=[];for(var n in t)O.has(t,n)&&e.push([n,t[n]]);return e},O.invert=function(t){var e={};for(var n in t)O.has(t,n)&&(e[t[n]]=n);return e},O.functions=O.methods=function(t){var e=[];for(var n in t)O.isFunction(t[n])&&e.push(n);return e.sort()},O.extend=function(t){return S(f.call(arguments,1),(function(e){if(e)for(var n in e)t[n]=e[n]})),t},O.pick=function(t){var e={},n=l.apply(o,f.call(arguments,1));return S(n,(function(n){n in t&&(e[n]=t[n])})),e},O.omit=function(t){var e={},n=l.apply(o,f.call(arguments,1));for(var r in t)O.contains(n,r)||(e[r]=t[r]);return e},O.defaults=function(t){return S(f.call(arguments,1),(function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])})),t},O.clone=function(t){return O.isObject(t)?O.isArray(t)?t.slice():O.extend({},t):t},O.tap=function(t,e){return e(t),t};var P=function t(e,n,r,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof O&&(e=e._wrapped),n instanceof O&&(n=n._wrapped);var o=h.call(e);if(o!=h.call(n))return!1;switch(o){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=a(e)||"object"!=a(n))return!1;for(var u=r.length;u--;)if(r[u]==e)return i[u]==n;r.push(e),i.push(n);var s=0,c=!0;if("[object Array]"==o){if(c=(s=e.length)==n.length)for(;s--&&(c=t(e[s],n[s],r,i)););}else{var f=e.constructor,l=n.constructor;if(f!==l&&!(O.isFunction(f)&&f instanceof f&&O.isFunction(l)&&l instanceof l))return!1;for(var p in e)if(O.has(e,p)&&(s++,!(c=O.has(n,p)&&t(e[p],n[p],r,i))))break;if(c){for(p in n)if(O.has(n,p)&&!s--)break;c=!s}}return r.pop(),i.pop(),c};O.isEqual=function(t,e){return P(t,e,[],[])},O.isEmpty=function(t){if(null==t)return!0;if(O.isArray(t)||O.isString(t))return 0===t.length;for(var e in t)if(O.has(t,e))return!1;return!0},O.isElement=function(t){return!(!t||1!==t.nodeType)},O.isArray=x||function(t){return"[object Array]"==h.call(t)},O.isObject=function(t){return t===Object(t)},S(["Arguments","Function","String","Number","Date","RegExp"],(function(t){O["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}})),O.isArguments(arguments)||(O.isArguments=function(t){return!(!t||!O.has(t,"callee"))}),O.isFunction=function(t){return"function"==typeof t},O.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},O.isNaN=function(t){return O.isNumber(t)&&t!=+t},O.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==h.call(t)},O.isNull=function(t){return null===t},O.isUndefined=function(t){return void 0===t},O.has=function(t,e){return p.call(t,e)},O.noConflict=function(){return t._=r,this},O.identity=function(t){return t},O.times=function(t,e,n){for(var r=Array(t),i=0;t>i;i++)r[i]=e.call(n,i);return r},O.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var N={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};N.unescape=O.invert(N.escape);var C={escape:new RegExp("["+O.keys(N.escape).join("")+"]","g"),unescape:new RegExp("("+O.keys(N.unescape).join("|")+")","g")};O.each(["escape","unescape"],(function(t){O[t]=function(e){return null==e?"":(""+e).replace(C[t],(function(e){return N[t][e]}))}})),O.result=function(t,e){if(null==t)return null;var n=t[e];return O.isFunction(n)?n.call(t):n},O.mixin=function(t){S(O.functions(t),(function(e){var n=O[e]=t[e];O.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),R.call(this,n.apply(O,t))}}))};var M=0;O.uniqueId=function(t){var e=++M+"";return t?t+e:e},O.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var B=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\t|\u2028|\u2029/g;O.template=function(t,e,n){var r;n=O.defaults({},n,O.templateSettings);var i=new RegExp([(n.escape||B).source,(n.interpolate||B).source,(n.evaluate||B).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(i,(function(e,n,r,i,u){return a+=t.slice(o,u).replace(L,(function(t){return"\\"+F[t]})),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(a+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(a+="';\n"+i+"\n__p+='"),o=u+e.length,e})),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(n.variable||"obj","_",a)}catch(t){throw t.source=a,t}if(e)return r(e,O);var u=function(t){return r.call(this,t,O)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},O.chain=function(t){return O(t).chain()};var R=function(t){return this._chain?O(t).chain():t};O.mixin(O),S(["pop","push","reverse","shift","sort","splice","unshift"],(function(t){var e=o[t];O.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],R.call(this,n)}})),S(["concat","join","slice"],(function(t){var e=o[t];O.prototype[t]=function(){return R.call(this,e.apply(this._wrapped,arguments))}})),O.extend(O.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}]},{},[7])(7)}))}).call(this,n(1179).setImmediate)},1179:function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(1180),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(87))},1180:function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,o,a,u,s=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){o.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(i=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",u=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",u,!1):t.attachEvent("onmessage",u),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[s]=i,r(s),s++},h.clearImmediate=p}function p(t){delete c[t]}function d(t){if(f)setTimeout(d,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(87),n(352))}}]);